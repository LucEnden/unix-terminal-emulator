!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.UnixTerminalEmulator=e():t.UnixTerminalEmulator=e()}(self,(()=>(()=>{"use strict";var t={28:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(537),o=r.n(n),i=r(645),a=r.n(i)()(o());a.push([t.id,"@keyframes terminal___cursor___fluid {\r\n\t0% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t50% {\r\n\t\topacity: 0%;\r\n\t}\r\n\t100% {\r\n\t\topacity: 100%;\r\n\t}\r\n}\r\n.terminal___cursor___fluid {\r\n\tanimation: terminal___cursor___fluid 1s infinite;\r\n}\r\n\r\n@keyframes terminal___cursor___static {\r\n\t0% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t39% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t40% {\r\n\t\topacity: 0%;\r\n\t}\r\n\t59% {\r\n\t\topacity: 0%;\r\n\t}\r\n\t60% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t100% {\r\n\t\topacity: 100%;\r\n\t}\r\n}\r\n.terminal___cursor___static {\r\n\tanimation: terminal___cursor___static 1s infinite;\r\n}\r\n\r\n.terminal___cursor___none {\r\n\tanimation: none;\r\n}\r\n","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;CACC;EACC,aAAa;CACd;CACA;EACC,WAAW;CACZ;CACA;EACC,aAAa;CACd;AACD;AACA;CACC,gDAAgD;AACjD;;AAEA;CACC;EACC,aAAa;CACd;CACA;EACC,aAAa;CACd;CACA;EACC,WAAW;CACZ;CACA;EACC,WAAW;CACZ;CACA;EACC,aAAa;CACd;CACA;EACC,aAAa;CACd;AACD;AACA;CACC,iDAAiD;AAClD;;AAEA;CACC,eAAe;AAChB",sourcesContent:["@keyframes terminal___cursor___fluid {\r\n\t0% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t50% {\r\n\t\topacity: 0%;\r\n\t}\r\n\t100% {\r\n\t\topacity: 100%;\r\n\t}\r\n}\r\n.terminal___cursor___fluid {\r\n\tanimation: terminal___cursor___fluid 1s infinite;\r\n}\r\n\r\n@keyframes terminal___cursor___static {\r\n\t0% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t39% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t40% {\r\n\t\topacity: 0%;\r\n\t}\r\n\t59% {\r\n\t\topacity: 0%;\r\n\t}\r\n\t60% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t100% {\r\n\t\topacity: 100%;\r\n\t}\r\n}\r\n.terminal___cursor___static {\r\n\tanimation: terminal___cursor___static 1s infinite;\r\n}\r\n\r\n.terminal___cursor___none {\r\n\tanimation: none;\r\n}\r\n"],sourceRoot:""}]);const s=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<t.length;u++){var p=[].concat(t[u]);n&&a[p[0]]||(void 0!==i&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=i),r&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=r):p[2]=r),o&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=o):p[4]="".concat(o)),e.push(p))}},e}},537:t=>{t.exports=function(t){var e=t[1],r=t[3];if(!r)return e;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),i="/*# ".concat(o," */"),a=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[e].concat(a).concat([i]).join("\n")}return[e].join("\n")}},379:t=>{var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var i={},a=[],s=0;s<t.length;s++){var c=t[s],u=n.base?c[0]+n.base:c[0],p=i[u]||0,l="".concat(u," ").concat(p);i[u]=p+1;var d=r(l),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(m);else{var f=o(m,n);n.byIndex=s,e.splice(s,0,{identifier:l,updater:f,references:1})}a.push(l)}return a}function o(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,o){var i=n(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=r(i[a]);e[s].references--}for(var c=n(t,o),u=0;u<i.length;u++){var p=r(i[u]);0===e[p].references&&(e[p].updater(),e.splice(p,1))}i=c}}},569:t=>{var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,r)=>{t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nc=void 0;var n={};return(()=>{r.d(n,{default:()=>w});var t=r(379),e=r.n(t),o=r(795),i=r.n(o),a=r(569),s=r.n(a),c=r(565),u=r.n(c),p=r(216),l=r.n(p),d=r(589),m=r.n(d),f=r(28),_={};function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e,r){return e&&C(t.prototype,e),r&&C(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}_.styleTagTransform=m(),_.setAttributes=u(),_.insert=s().bind(null,"head"),_.domAPI=i(),_.insertStyleElement=l(),e()(f.Z,_),f.Z&&f.Z.locals&&f.Z.locals;var E=h((function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"historyStack",[]),y(this,"eventQueue",[]),y(this,"HISTSIZE",500),y(this,"options",{wrapperId:"terminal___emulator___wrapper",wrapperClassName:"terminal___emulator___wrapper",cursor:"|",cursorId:"terminal___emulator___cursor",cursorClassName:"terminal___emulator___cursor",cursorAnimation:"static",enviroment:void 0}),y(this,"addCommand",(function(t){return r.eventQueue.push({delayAfter:0,command:t}),r})),y(this,"addCommands",(function(t){return t.forEach((function(t){r.eventQueue.push({delayAfter:0,command:t})})),r})),y(this,"pause",(function(t){return r.eventQueue.push({delayAfter:t}),r})),y(this,"run",(function(t){r.currentEvent=r.eventQueue.shift(),void 0!==r.currentEvent?void 0!==r.currentEvent.command?(r.historyStack.push(r.currentEvent.command),r.writeToStdout(r.currentEvent.command.text,r.currentEvent.command.writeSpeed,(function(){if(void 0!==r.currentEvent.command.output){var e;e="function"==typeof r.currentEvent.command.output?r.currentEvent.command.output():r.currentEvent.command.output,setTimeout((function(){r.removeCursor(),r.writeLineBreakToStdout(),r.writeToStdout(e,0,(function(){r.writeLineBreakToStdout(),r.writeEnviromentLineToStdout(),r.writeInputLineStartToStdout(),setTimeout((function(){r.appendCursor(),r.run(t)}),r.currentEvent.delayAfter)}))}),r.currentEvent.command.pauseBeforeOutput)}else r.writeLineBreakToStdout(),r.writeEnviromentLineToStdout(),r.writeInputLineStartToStdout(),setTimeout((function(){return r.run(t)}),r.currentEvent.delayAfter)}))):setTimeout((function(){r.run(t)}),r.currentEvent.delayAfter):void 0!==t&&t()})),y(this,"removeCursor",(function(){r.cursorElement.remove()})),y(this,"appendCursor",(function(){r.wrapperElement.appendChild(r.cursorElement)})),y(this,"getRandomIntegerInRange",(function(t,e){return Math.floor(Math.random()*(e-t+1)+t)})),y(this,"writeEnviromentLineToStdout",(function(){void 0!==r.options.enviroment&&r.options.enviroment.hostname.length>0&&r.options.enviroment.username.length>0&&(r.wrapperElement.innerHTML+=r.options.enviroment.username+"@"+r.options.enviroment.hostname+":")})),y(this,"writeInputLineStartToStdout",(function(){r.wrapperElement.innerHTML+="$ "})),y(this,"writeLineBreakToStdout",(function(){r.wrapperElement.innerHTML+="<br />"})),y(this,"writeToStdout",(function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;0===e?(r.removeCursor(),r.wrapperElement.innerHTML+=t,n()):o<t.length?(r.removeCursor(),r.wrapperElement.innerHTML+=t[o],r.appendCursor(),o++,"neutral"===e?setTimeout((function(){return r.writeToStdout(t,e,n,o)}),r.getRandomIntegerInRange(80,120)):setTimeout((function(){return r.writeToStdout(t,e,n,o)}),e)):n()})),e&&(this.options=A(A({},this.options),e));var n=document.getElementById(this.options.wrapperId);switch(null===n&&((n=document.createElement("div")).id=this.options.wrapperId),this.options.wrapperClassName.length>0&&n.classList.add(this.options.wrapperClassName),this.wrapperElement=n,document.body.appendChild(this.wrapperElement),this.cursorElement=document.createElement("span"),this.cursorElement.id=this.options.cursorId,this.cursorElement.innerText=this.options.cursor,this.options.cursorAnimation){case"fluid":this.cursorElement.classList.add("terminal___cursor___fluid");break;case"static":this.cursorElement.classList.add("terminal___cursor___static");break;case void 0:this.cursorElement.classList.add("terminal___cursor___none")}this.cursorElement.classList.add(this.options.cursorClassName),this.writeEnviromentLineToStdout(),this.writeInputLineStartToStdout(),this.appendCursor()}));const w=E})(),n.default})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUV2QnBILEtBQUtvQyxRQUFRaUYsaUJBQWtCL0csT0FBUyxHQUMzQ3lKLEVBQVFFLFVBQVVDLElBQUlsSyxLQUFLb0MsUUFBUWlGLGtCQUVwQ3JILEtBQUtvSixlQUFpQlcsRUFDdEI3RixTQUFTaUcsS0FBS3hGLFlBQVkzRSxLQUFLb0osZ0JBRS9CcEosS0FBS21KLGNBQWdCakYsU0FBU1csY0FBYyxRQUM1QzdFLEtBQUttSixjQUFjdkosR0FBS0ksS0FBS29DLFFBQVFtRixTQUNyQ3ZILEtBQUttSixjQUFjaUIsVUFBWXBLLEtBQUtvQyxRQUFRa0YsT0FDcEN0SCxLQUFLb0MsUUFBUXFGLGlCQUNwQixJQUFLLFFBQ0p6SCxLQUFLbUosY0FBY2MsVUFBVUMsSUFBSSw2QkFDakMsTUFDRCxJQUFLLFNBQ0psSyxLQUFLbUosY0FBY2MsVUFBVUMsSUFBSSw4QkFDakMsTUFDRCxVQUFLcEosRUFDSmQsS0FBS21KLGNBQWNjLFVBQVVDLElBQUksNEJBR25DbEssS0FBS21KLGNBQWNjLFVBQVVDLElBQUlsSyxLQUFLb0MsUUFBUW9GLGlCQUU5Q3hILEtBQUs4SSw4QkFDTDlJLEtBQUsrSSw4QkFDTC9JLEtBQUtnSixjQUNMLElBd1FGLFMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Vbml4VGVybWluYWxFbXVsYXRvci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vVW5peFRlcm1pbmFsRW11bGF0b3IvLi9zcmMvc3R5bGVzLmNzcyIsIndlYnBhY2s6Ly9Vbml4VGVybWluYWxFbXVsYXRvci8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vVW5peFRlcm1pbmFsRW11bGF0b3IvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9Vbml4VGVybWluYWxFbXVsYXRvci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9Vbml4VGVybWluYWxFbXVsYXRvci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vVW5peFRlcm1pbmFsRW11bGF0b3IvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vVW5peFRlcm1pbmFsRW11bGF0b3IvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vVW5peFRlcm1pbmFsRW11bGF0b3IvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9Vbml4VGVybWluYWxFbXVsYXRvci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL1VuaXhUZXJtaW5hbEVtdWxhdG9yL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1VuaXhUZXJtaW5hbEVtdWxhdG9yL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL1VuaXhUZXJtaW5hbEVtdWxhdG9yL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9Vbml4VGVybWluYWxFbXVsYXRvci93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL1VuaXhUZXJtaW5hbEVtdWxhdG9yL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9Vbml4VGVybWluYWxFbXVsYXRvci8uL3NyYy9zdHlsZXMuY3NzPzQ0YjIiLCJ3ZWJwYWNrOi8vVW5peFRlcm1pbmFsRW11bGF0b3IvLi9zcmMvVW5peFRlcm1pbmFsRW11bGF0b3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiVW5peFRlcm1pbmFsRW11bGF0b3JcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiVW5peFRlcm1pbmFsRW11bGF0b3JcIl0gPSBmYWN0b3J5KCk7XG59KShzZWxmLCAoKSA9PiB7XG5yZXR1cm4gIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJAa2V5ZnJhbWVzIHRlcm1pbmFsX19fY3Vyc29yX19fZmx1aWQge1xcclxcblxcdDAlIHtcXHJcXG5cXHRcXHRvcGFjaXR5OiAxMDAlO1xcclxcblxcdH1cXHJcXG5cXHQ1MCUge1xcclxcblxcdFxcdG9wYWNpdHk6IDAlO1xcclxcblxcdH1cXHJcXG5cXHQxMDAlIHtcXHJcXG5cXHRcXHRvcGFjaXR5OiAxMDAlO1xcclxcblxcdH1cXHJcXG59XFxyXFxuLnRlcm1pbmFsX19fY3Vyc29yX19fZmx1aWQge1xcclxcblxcdGFuaW1hdGlvbjogdGVybWluYWxfX19jdXJzb3JfX19mbHVpZCAxcyBpbmZpbml0ZTtcXHJcXG59XFxyXFxuXFxyXFxuQGtleWZyYW1lcyB0ZXJtaW5hbF9fX2N1cnNvcl9fX3N0YXRpYyB7XFxyXFxuXFx0MCUge1xcclxcblxcdFxcdG9wYWNpdHk6IDEwMCU7XFxyXFxuXFx0fVxcclxcblxcdDM5JSB7XFxyXFxuXFx0XFx0b3BhY2l0eTogMTAwJTtcXHJcXG5cXHR9XFxyXFxuXFx0NDAlIHtcXHJcXG5cXHRcXHRvcGFjaXR5OiAwJTtcXHJcXG5cXHR9XFxyXFxuXFx0NTklIHtcXHJcXG5cXHRcXHRvcGFjaXR5OiAwJTtcXHJcXG5cXHR9XFxyXFxuXFx0NjAlIHtcXHJcXG5cXHRcXHRvcGFjaXR5OiAxMDAlO1xcclxcblxcdH1cXHJcXG5cXHQxMDAlIHtcXHJcXG5cXHRcXHRvcGFjaXR5OiAxMDAlO1xcclxcblxcdH1cXHJcXG59XFxyXFxuLnRlcm1pbmFsX19fY3Vyc29yX19fc3RhdGljIHtcXHJcXG5cXHRhbmltYXRpb246IHRlcm1pbmFsX19fY3Vyc29yX19fc3RhdGljIDFzIGluZmluaXRlO1xcclxcbn1cXHJcXG5cXHJcXG4udGVybWluYWxfX19jdXJzb3JfX19ub25lIHtcXHJcXG5cXHRhbmltYXRpb246IG5vbmU7XFxyXFxufVxcclxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZXMuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0NBQ0M7RUFDQyxhQUFhO0NBQ2Q7Q0FDQTtFQUNDLFdBQVc7Q0FDWjtDQUNBO0VBQ0MsYUFBYTtDQUNkO0FBQ0Q7QUFDQTtDQUNDLGdEQUFnRDtBQUNqRDs7QUFFQTtDQUNDO0VBQ0MsYUFBYTtDQUNkO0NBQ0E7RUFDQyxhQUFhO0NBQ2Q7Q0FDQTtFQUNDLFdBQVc7Q0FDWjtDQUNBO0VBQ0MsV0FBVztDQUNaO0NBQ0E7RUFDQyxhQUFhO0NBQ2Q7Q0FDQTtFQUNDLGFBQWE7Q0FDZDtBQUNEO0FBQ0E7Q0FDQyxpREFBaUQ7QUFDbEQ7O0FBRUE7Q0FDQyxlQUFlO0FBQ2hCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBrZXlmcmFtZXMgdGVybWluYWxfX19jdXJzb3JfX19mbHVpZCB7XFxyXFxuXFx0MCUge1xcclxcblxcdFxcdG9wYWNpdHk6IDEwMCU7XFxyXFxuXFx0fVxcclxcblxcdDUwJSB7XFxyXFxuXFx0XFx0b3BhY2l0eTogMCU7XFxyXFxuXFx0fVxcclxcblxcdDEwMCUge1xcclxcblxcdFxcdG9wYWNpdHk6IDEwMCU7XFxyXFxuXFx0fVxcclxcbn1cXHJcXG4udGVybWluYWxfX19jdXJzb3JfX19mbHVpZCB7XFxyXFxuXFx0YW5pbWF0aW9uOiB0ZXJtaW5hbF9fX2N1cnNvcl9fX2ZsdWlkIDFzIGluZmluaXRlO1xcclxcbn1cXHJcXG5cXHJcXG5Aa2V5ZnJhbWVzIHRlcm1pbmFsX19fY3Vyc29yX19fc3RhdGljIHtcXHJcXG5cXHQwJSB7XFxyXFxuXFx0XFx0b3BhY2l0eTogMTAwJTtcXHJcXG5cXHR9XFxyXFxuXFx0MzklIHtcXHJcXG5cXHRcXHRvcGFjaXR5OiAxMDAlO1xcclxcblxcdH1cXHJcXG5cXHQ0MCUge1xcclxcblxcdFxcdG9wYWNpdHk6IDAlO1xcclxcblxcdH1cXHJcXG5cXHQ1OSUge1xcclxcblxcdFxcdG9wYWNpdHk6IDAlO1xcclxcblxcdH1cXHJcXG5cXHQ2MCUge1xcclxcblxcdFxcdG9wYWNpdHk6IDEwMCU7XFxyXFxuXFx0fVxcclxcblxcdDEwMCUge1xcclxcblxcdFxcdG9wYWNpdHk6IDEwMCU7XFxyXFxuXFx0fVxcclxcbn1cXHJcXG4udGVybWluYWxfX19jdXJzb3JfX19zdGF0aWMge1xcclxcblxcdGFuaW1hdGlvbjogdGVybWluYWxfX19jdXJzb3JfX19zdGF0aWMgMXMgaW5maW5pdGU7XFxyXFxufVxcclxcblxcclxcbi50ZXJtaW5hbF9fX2N1cnNvcl9fX25vbmUge1xcclxcblxcdGFuaW1hdGlvbjogbm9uZTtcXHJcXG59XFxyXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuXG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB1cGRhdGVyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuXG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuXG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG5cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuXG4gIGNzcyArPSBvYmouY3NzO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5uYyA9IHVuZGVmaW5lZDsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGVzLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGVzLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImltcG9ydCB7IFRlcm1pbmFsQ29tbWFuZCwgVGVybWluYWxPcHRpb25zLCBUZXJtaW5hbEV2ZW50IH0gZnJvbSBcIi4vaW50ZXJmYWNlc1wiXHJcbmltcG9ydCBcIi4vc3R5bGVzLmNzc1wiXHJcblxyXG4vLyBUT0RPOiBhZGQgU1M2NCBsaW5rcyB0byBldmVyeSBjb21tYW5kIGpzZG9jXHJcblxyXG4vKipcclxuICogRW11bGF0ZXMgYSB1bml4IHRlcm1pbmFsIGJ5IHR5cGluZyBvdXQgY29tbWFuZHMgYW5kIHRoZXJlIHNwZWNpZmllZCBvdXRwdXRzLlxyXG4gKiBBbGxvd3MgeW91IHRvIGJ1aWxkIGFuIGV2ZW50IHNlcXVlbmNlIG9mIGNvbW1hbmRzIGFuZCB0aW1pbmdzIHdoaWNoIGdldHMgZXhjZWN1dGVkIHdoZW4gdGhlIHJ1biBtZXRob2QgaXMgY2FsbGVkLlxyXG4gKlxyXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0x1Y0VuZGVuL3VuaXgtdGVybWluYWwtZW11bGF0b3J9XHJcbiAqL1xyXG5jbGFzcyBVbml4VGVybWluYWxFbXVsYXRvciB7XHJcblx0LyoqXHJcblx0ICogQ29udGFpbnMgYWxsIGNvbW1hbmRzIGV4ZWN1dGVkIHNvIGZhciBieSBydW4uXHJcblx0ICovXHJcblx0cHJpdmF0ZSByZWFkb25seSBoaXN0b3J5U3RhY2sgPSBbXSBhcyBBcnJheTxUZXJtaW5hbENvbW1hbmQ+XHJcblx0LyoqXHJcblx0ICogQ29udGFpbnMgYWxsIGV2ZW50cyB0byBiZSBleGVjdXRlZCBieSBydW4uXHJcblx0ICovXHJcblx0cHJpdmF0ZSByZWFkb25seSBldmVudFF1ZXVlID0gW10gYXMgQXJyYXk8VGVybWluYWxFdmVudD5cclxuXHQvKipcclxuXHQgKiBVc2VkIGluIHJ1biB0byBkZXRlcm1pbmUgaWYgdGhlcmUgYXJlIGFueSBldmVudHMgbGVmdCB0byBiZSBleGVjdXRlZC5cclxuXHQgKi9cclxuXHRwcml2YXRlIGN1cnJlbnRFdmVudDogVGVybWluYWxFdmVudCB8IHVuZGVmaW5lZFxyXG5cdC8qKlxyXG5cdCAqIFVzZWQgaW4gZ2V0SGlzdG9yeU91dHB1dCAgXHJcblx0ICogYmFzZWQgb24gaGlzdHNpemUgdmFyaWFibGUgaW4gYmFzaDogZWNobyAkSElTVFNJWkUgIFxyXG5cdCAqIFxyXG5cdCAqIHNlZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTk0NTQ4MzcvYmFzaC1oaXN0c2l6ZS12cy1oaXN0ZmlsZXNpemUjYW5zd2VyLTE5NDU0ODM4XHJcblx0ICovXHJcblx0cHJpdmF0ZSByZWFkb25seSBISVNUU0laRSA9IDUwMFxyXG5cclxuXHQvKipcclxuXHQgKiBEZWZhdWx0IHZhbHVlcyBmb3IgVGVybWluYWxPcHRpb25zLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgb3B0aW9uczogVGVybWluYWxPcHRpb25zID0ge1xyXG5cdFx0d3JhcHBlcklkOiBcInRlcm1pbmFsX19fZW11bGF0b3JfX193cmFwcGVyXCIsXHJcblx0XHR3cmFwcGVyQ2xhc3NOYW1lOiBcInRlcm1pbmFsX19fZW11bGF0b3JfX193cmFwcGVyXCIsXHJcblx0XHRjdXJzb3I6IFwifFwiLFxyXG5cdFx0Y3Vyc29ySWQ6IFwidGVybWluYWxfX19lbXVsYXRvcl9fX2N1cnNvclwiLFxyXG5cdFx0Y3Vyc29yQ2xhc3NOYW1lOiBcInRlcm1pbmFsX19fZW11bGF0b3JfX19jdXJzb3JcIixcclxuXHRcdGN1cnNvckFuaW1hdGlvbjogXCJzdGF0aWNcIixcclxuXHRcdGVudmlyb21lbnQ6IHVuZGVmaW5lZCxcclxuXHR9XHJcblx0LyoqXHJcblx0ICogVGhlIEhUTUwgZWxlbWVudCB0byB3aGljaCBhbGwgdGV4dCBzaG91bGQgYmUgd3JpdHRlbiB0by5cclxuXHQgKi9cclxuXHRwcml2YXRlIHdyYXBwZXJFbGVtZW50OiBIVE1MRWxlbWVudFxyXG5cdC8qKlxyXG5cdCAqIFRoZSBIVE1MIGVsZW1lbnQgdGhhdCBhY3RzIGFzIHRoZSBjdXJzb3JcclxuXHQgKi9cclxuXHRwcml2YXRlIGN1cnNvckVsZW1lbnQ6IEhUTUxFbGVtZW50XHJcblxyXG5cdGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBUZXJtaW5hbE9wdGlvbnMpIHtcclxuXHRcdGlmIChvcHRpb25zKSB7XHJcblx0XHRcdHRoaXMub3B0aW9ucyA9IHtcclxuXHRcdFx0XHQuLi50aGlzLm9wdGlvbnMsXHJcblx0XHRcdFx0Li4ub3B0aW9ucyxcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHZhciB3cmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5vcHRpb25zLndyYXBwZXJJZCEpXHJcblx0XHRpZiAod3JhcHBlciA9PT0gbnVsbCkge1xyXG5cdFx0XHR3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG5cdFx0XHR3cmFwcGVyLmlkID0gdGhpcy5vcHRpb25zLndyYXBwZXJJZCFcclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzTmFtZSEubGVuZ3RoID4gMCkge1xyXG5cdFx0XHR3cmFwcGVyLmNsYXNzTGlzdC5hZGQodGhpcy5vcHRpb25zLndyYXBwZXJDbGFzc05hbWUhKVxyXG5cdFx0fVxyXG5cdFx0dGhpcy53cmFwcGVyRWxlbWVudCA9IHdyYXBwZXJcclxuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy53cmFwcGVyRWxlbWVudClcclxuXHJcblx0XHR0aGlzLmN1cnNvckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKVxyXG5cdFx0dGhpcy5jdXJzb3JFbGVtZW50LmlkID0gdGhpcy5vcHRpb25zLmN1cnNvcklkIVxyXG5cdFx0dGhpcy5jdXJzb3JFbGVtZW50LmlubmVyVGV4dCA9IHRoaXMub3B0aW9ucy5jdXJzb3IhXHJcblx0XHRzd2l0Y2ggKHRoaXMub3B0aW9ucy5jdXJzb3JBbmltYXRpb24pIHtcclxuXHRcdFx0Y2FzZSBcImZsdWlkXCI6XHJcblx0XHRcdFx0dGhpcy5jdXJzb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0ZXJtaW5hbF9fX2N1cnNvcl9fX2ZsdWlkXCIpXHJcblx0XHRcdFx0YnJlYWtcclxuXHRcdFx0Y2FzZSBcInN0YXRpY1wiOlxyXG5cdFx0XHRcdHRoaXMuY3Vyc29yRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGVybWluYWxfX19jdXJzb3JfX19zdGF0aWNcIilcclxuXHRcdFx0XHRicmVha1xyXG5cdFx0XHRjYXNlIHVuZGVmaW5lZDpcclxuXHRcdFx0XHR0aGlzLmN1cnNvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRlcm1pbmFsX19fY3Vyc29yX19fbm9uZVwiKVxyXG5cdFx0XHRcdGJyZWFrXHJcblx0XHR9XHJcblx0XHR0aGlzLmN1cnNvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLm9wdGlvbnMuY3Vyc29yQ2xhc3NOYW1lISlcclxuXHJcblx0XHR0aGlzLndyaXRlRW52aXJvbWVudExpbmVUb1N0ZG91dCgpXHJcblx0XHR0aGlzLndyaXRlSW5wdXRMaW5lU3RhcnRUb1N0ZG91dCgpXHJcblx0XHR0aGlzLmFwcGVuZEN1cnNvcigpXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBZGRzIGEgY29tbWFuZCB0byB0aGUgdG8gcXVldWUuXHJcblx0ICogQHBhcmFtIHtUZXJtaW5hbENvbW1hbmR9IGNvbW1hbmQgXHRUaGUgY29tbWFuZCB0byBhZGQgdGhlIHRoZSBxdWV1ZVxyXG5cdCAqIEByZXR1cm5zIHtVbml4VGVybWluYWxFbXVsYXRvcn0gXHRcdFRoZSBjdXJyZW50IGluc3RhbmNlIG9mIFVuaXhUZXJtaW5hbEVtdWxhdG9yXHJcblx0ICovXHJcblx0cHVibGljIGFkZENvbW1hbmQgPSAoY29tbWFuZDogVGVybWluYWxDb21tYW5kKSA9PiB7XHJcblx0XHR0aGlzLmV2ZW50UXVldWUucHVzaCh7XHJcblx0XHRcdGRlbGF5QWZ0ZXI6IDAsXHJcblx0XHRcdGNvbW1hbmQ6IGNvbW1hbmQsXHJcblx0XHR9IGFzIFRlcm1pbmFsRXZlbnQpXHJcblx0XHRyZXR1cm4gdGhpc1xyXG5cdH1cclxuXHQvKipcclxuXHQgKiBBZGRzIG11bHRpcGxlIGNvbW1hbmRzIHRvIHRoZSB0byBxdWV1ZS5cclxuXHQgKiBAcGFyYW0ge1Rlcm1pbmFsQ29tbWFuZFtdfSBjb21tYW5kcyBcdFRoZSBjb21tYW5kcyB0byBhZGQgdGhlIHRoZSBxdWV1ZVxyXG5cdCAqIEByZXR1cm5zIHtVbml4VGVybWluYWxFbXVsYXRvcn0gXHRcdFRoZSBjdXJyZW50IGluc3RhbmNlIG9mIFVuaXhUZXJtaW5hbEVtdWxhdG9yXHJcblx0ICovXHJcblx0cHVibGljIGFkZENvbW1hbmRzID0gKGNvbW1hbmRzOiBUZXJtaW5hbENvbW1hbmRbXSkgPT4ge1xyXG5cdFx0Y29tbWFuZHMuZm9yRWFjaCgoYykgPT4ge1xyXG5cdFx0XHR0aGlzLmV2ZW50UXVldWUucHVzaCh7XHJcblx0XHRcdFx0ZGVsYXlBZnRlcjogMCxcclxuXHRcdFx0XHRjb21tYW5kOiBjLFxyXG5cdFx0XHR9IGFzIFRlcm1pbmFsRXZlbnQpXHJcblx0XHR9KVxyXG5cdFx0cmV0dXJuIHRoaXNcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZHMgYSBwYXVzZSBpbiB0aGUgZXZlbnQgc2VxdWVuY2UuXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IG1zIFRoZSB0aW1lIHRvIHBhdXNlIGZvciBpbiBtaWxpc2Vjb25kc1xyXG5cdCAqIEByZXR1cm5zIHtVbml4VGVybWluYWxFbXVsYXRvcn0gVGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgVW5peFRlcm1pbmFsRW11bGF0b3JcclxuXHQgKi9cclxuXHRwdWJsaWMgcGF1c2UgPSAobXM6IG51bWJlcikgPT4ge1xyXG5cdFx0dGhpcy5ldmVudFF1ZXVlLnB1c2goe1xyXG5cdFx0XHRkZWxheUFmdGVyOiBtcyxcclxuXHRcdH0gYXMgVGVybWluYWxFdmVudClcclxuXHRcdHJldHVybiB0aGlzXHJcblx0fVxyXG5cclxuXHQvLyAvKipcclxuXHQvLyAgKiBFbXVsYXRlcyB0aGUgZWNobyBjb21tYW5kLlxyXG5cdC8vICAqXHJcblx0Ly8gICogQHBhcmFtIHtzdHJpbmd9IHRleHQgXHRcdFx0XHRcdFx0VGhlIHRleHQgdG8gZWNob1xyXG5cdC8vICAqIEBwYXJhbSB7XCJuZXV0cmFsXCJ8bnVtYmVyfSB3cml0ZVNwZWVkIFx0XHRUaGUgc3BlZWQgYXQgd2hpY2ggdG8gd3JpdGUgZWFjaCBjaGFyYWN0ZXIgb2YgdGhlIGNvbW1hbmRcclxuXHQvLyAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHBhdXNlQmVmb3JlT3V0cHV0IFx0VGhlIHRpbWUgdG8gcGF1c2UgYmVmb3JlIHdyaXRpbmcgdGhlIG91dHB1dCBpbiBtaWxpc2Vjb25kc1xyXG5cdC8vICAqIEBleGFtcGxlXHJcblx0Ly8gICogZWNobyhcIkhlbGxvLCBXb3JsZFwiKSA9PlxyXG5cdC8vICAqICQgZWNobyBIZWxsbywgV29ybGQhXHJcblx0Ly8gICogSGVsbG8sIFdvcmxkIVxyXG5cdC8vICAqIEByZXR1cm5zIHtVbml4VGVybWluYWxFbXVsYXRvcn0gVGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgVW5peFRlcm1pbmFsRW11bGF0b3JcclxuXHQvLyAgKi9cclxuXHQvLyBwdWJsaWMgZWNobyA9ICh0ZXh0OiBzdHJpbmcsIHdyaXRlU3BlZWQ6IFwibmV1dHJhbFwiIHwgbnVtYmVyID0gXCJuZXV0cmFsXCIsIHBhdXNlQmVmb3JlT3V0cHV0PzogbnVtYmVyKSA9PiB7XHJcblx0Ly8gXHR0aGlzLmV2ZW50UXVldWUucHVzaCh7XHJcblx0Ly8gXHRcdGNvbW1hbmQ6IHtcclxuXHQvLyBcdFx0XHR0ZXh0OiBcImVjaG8gXCIgKyB0ZXh0LFxyXG5cdC8vIFx0XHRcdHdyaXRlU3BlZWQ6IHdyaXRlU3BlZWQsXHJcblx0Ly8gXHRcdFx0b3V0cHV0OiB0ZXh0LFxyXG5cdC8vIFx0XHRcdHBhdXNlQmVmb3JlT3V0cHV0OiBwYXVzZUJlZm9yZU91dHB1dCxcclxuXHQvLyBcdFx0fSxcclxuXHQvLyBcdH0gYXMgVGVybWluYWxFdmVudClcclxuXHQvLyBcdHJldHVybiB0aGlzXHJcblx0Ly8gfVxyXG5cclxuXHQvLyAvKipcclxuXHQvLyAgKiBFbXVsYXRlcyB0aGUgaGlzdG9yeSBjb21tYW5kLlxyXG5cdC8vICAqIFxyXG5cdC8vICAqIEBwYXJhbSB7XCJuZXV0cmFsXCJ8bnVtYmVyfSB3cml0ZVNwZWVkIFx0XHRUaGUgc3BlZWQgYXQgd2hpY2ggdG8gd3JpdGUgZWFjaCBjaGFyYWN0ZXIgb2YgdGhlIGNvbW1hbmRcclxuXHQvLyAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHBhdXNlQmVmb3JlT3V0cHV0IFx0VGhlIHRpbWUgdG8gcGF1c2UgYmVmb3JlIHdyaXRpbmcgdGhlIG91dHB1dCBpbiBtaWxpc2Vjb25kc1xyXG5cdC8vICAqIEByZXR1cm5zIHtVbml4VGVybWluYWxFbXVsYXRvcn0gXHRcdFx0XHRUaGUgY3VycmVudCBpbnN0YW5jZSBvZiBVbml4VGVybWluYWxFbXVsYXRvclxyXG5cdC8vICAqL1xyXG5cdC8vIHB1YmxpYyBoaXN0b3J5ID0gKHdyaXRlU3BlZWQ6IFwibmV1dHJhbFwiIHwgbnVtYmVyID0gXCJuZXV0cmFsXCIsIHBhdXNlQmVmb3JlT3V0cHV0PzogbnVtYmVyKSA9PiB7XHJcblx0Ly8gXHR0aGlzLmV2ZW50UXVldWUucHVzaCh7XHJcblx0Ly8gXHRcdGNvbW1hbmQ6IHtcclxuXHQvLyBcdFx0XHR0ZXh0OiBcImhpc3RvcnlcIixcclxuXHQvLyBcdFx0XHR3cml0ZVNwZWVkOiB3cml0ZVNwZWVkLFxyXG5cdC8vIFx0XHRcdG91dHB1dDogdGhpcy5nZXRIaXN0b3J5T3V0cHV0LFxyXG5cdC8vIFx0XHRcdHBhdXNlQmVmb3JlT3V0cHV0OiBwYXVzZUJlZm9yZU91dHB1dFxyXG5cdC8vIFx0XHR9LFxyXG5cdC8vIFx0fSBhcyBUZXJtaW5hbEV2ZW50KVxyXG5cdC8vIFx0cmV0dXJuIHRoaXNcclxuXHQvLyB9XHJcblx0Ly8gcHJpdmF0ZSBnZXRIaXN0b3J5T3V0cHV0ID0gKCkgPT4ge1xyXG5cdC8vIFx0dmFyIG91dHB1dCA9IFtdIGFzIHN0cmluZ1tdXHJcblx0Ly8gXHR2YXIgaiA9IDA7XHJcblx0Ly8gXHRmb3IgKHZhciBpID0gdGhpcy5oaXN0b3J5U3RhY2subGVuZ3RoOyBpID4gMDsgaS0tKSB7XHJcblx0Ly8gXHRcdHZhciBuZXdPdXRwdXRMaW5lID0gXCJcIlxyXG5cclxuXHQvLyBcdFx0Ly8gbGVhZGluZyBzcGFjZXMgYXJlIGJhc2VkIG9uIGRlY2ltYWxzXHJcblx0Ly8gXHRcdC8vIHNpbmdsZSBkZWNpbWFsID0gNCBzcGFjZXNcclxuXHQvLyBcdFx0Ly8gZG91YmxlIGRlY2ltYWwgPSAzIHNwYWNlc1xyXG5cdC8vIFx0XHQvLyBldGMuLi5cclxuXHQvLyBcdFx0aWYgKGkgPCAxMCkge1xyXG5cdC8vIFx0XHRcdG5ld091dHB1dExpbmUgKz0gXCImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDtcIlxyXG5cdC8vIFx0XHR9IGVsc2UgaWYgKGkgPCAxMDApIHtcclxuXHQvLyBcdFx0XHRuZXdPdXRwdXRMaW5lICs9IFwiJm5ic3A7Jm5ic3A7Jm5ic3A7XCJcclxuXHQvLyBcdFx0fSBlbHNlIGlmIChpIDwgMTAwMCkge1xyXG5cdC8vIFx0XHRcdG5ld091dHB1dExpbmUgKz0gXCImbmJzcDsmbmJzcDtcIlxyXG5cdC8vIFx0XHR9IGVsc2UgaWYgKGkgPCAxMDAwMCkge1xyXG5cdC8vIFx0XHRcdG5ld091dHB1dExpbmUgKz0gXCImbmJzcDtcIlxyXG5cdC8vIFx0XHR9XHJcblxyXG5cdC8vIFx0XHRuZXdPdXRwdXRMaW5lICs9IGAke2l9Jm5ic3A7Jm5ic3A7JHt0aGlzLmhpc3RvcnlTdGFja1tpIC0gMV0udGV4dH1gXHJcblx0Ly8gXHRcdG91dHB1dC5wdXNoKG5ld091dHB1dExpbmUpXHJcblxyXG5cdC8vIFx0XHRqKytcclxuXHQvLyBcdFx0aWYgKGogPj0gdGhpcy5ISVNUU0laRSkgYnJlYWtcclxuXHQvLyBcdH1cclxuXHQvLyBcdHJldHVybiBvdXRwdXQucmV2ZXJzZSgpLmpvaW4oXCI8YnIgLz5cIik7XHJcblx0Ly8gfVxyXG5cclxuXHQvLyAvLyB0b2RvOiBpbXBsZW1lbnRcclxuXHQvLyBwdWJsaWMgY2xlYXIgPSAoKSA9PiB7XHJcblx0Ly8gXHRyZXR1cm4gdGhpc1xyXG5cdC8vIH1cclxuXHJcblx0Ly8gLy8gdG9kbzogaW1wbGVtZW50XHJcblx0Ly8gcHVibGljIHRvdWNoID0gKGZpbGVOYW1lOiBzdHJpbmcpID0+IHtcclxuXHQvLyBcdHJldHVybiB0aGlzXHJcblx0Ly8gfVxyXG5cdC8vIC8vIHRvZG86IGltcGxlbWVudFxyXG5cdC8vIHB1YmxpYyBta2RpciA9IChkaXJOYW1lOiBzdHJpbmcpID0+IHtcclxuXHQvLyBcdHJldHVybiB0aGlzXHJcblx0Ly8gfVxyXG5cdC8vIC8vIHRvZG86IGltcGxlbWVudFxyXG5cdC8vIHB1YmxpYyBwd2QgPSAoKSA9PiB7fVxyXG5cdC8vIC8vIHRvZG86IGltcGxlbWVudFxyXG5cdC8vIHB1YmxpYyB2aW0gPSAoZmlsZU5hbWU6IHN0cmluZywgZmlsZUNvbnRlbnRUb1R5cGU6IHN0cmluZ1tdKSA9PiB7XHJcblx0Ly8gXHRyZXR1cm4gdGhpc1xyXG5cdC8vIH1cclxuXHJcblx0LyoqXHJcblx0ICogRXhjZWN1dGVzIHRoZSBjcmVhdGVkIGV2ZW50IHNlcXVlbmNlXHJcblx0ICogQHBhcmFtIGNhbGxiYWNrIEdldHMgY2FsbGVkIHdoZW4gdGhlIHNlcXVlbmNlIGhhcyBmaW5pc2hlZFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBydW4gPSAoY2FsbGJhY2s/OiAoKSA9PiB2b2lkKSA9PiB7XHJcblx0XHQvLyBJZiB0aGVyZSBhcmUgZXZlbnRzIGxlZnQgaW4gdGhlIHF1ZXVlLCBjb250aW51ZSBydW5uaW5nLlxyXG5cdFx0dGhpcy5jdXJyZW50RXZlbnQgPSB0aGlzLmV2ZW50UXVldWUuc2hpZnQoKVxyXG5cdFx0aWYgKHRoaXMuY3VycmVudEV2ZW50ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0aWYgKHRoaXMuY3VycmVudEV2ZW50LmNvbW1hbmQgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdC8vIEFkZCBjb21tYW5kIHRvIGhpc3Rvcnkgc3RhY2ssIHRoZW4gc3RhcnQgd3JpdGluZyB0aGUgY29tbWFuZCB0ZXh0IHRvIHRoZSBzdGRvdXRcclxuXHRcdFx0XHR0aGlzLmhpc3RvcnlTdGFjay5wdXNoKHRoaXMuY3VycmVudEV2ZW50LmNvbW1hbmQpXHJcblx0XHRcdFx0dGhpcy53cml0ZVRvU3Rkb3V0KHRoaXMuY3VycmVudEV2ZW50LmNvbW1hbmQudGV4dCwgdGhpcy5jdXJyZW50RXZlbnQuY29tbWFuZC53cml0ZVNwZWVkLCAoKSA9PiB7XHJcblx0XHRcdFx0XHQvLyBBZnRlciBjb21tYW5kIHRleHQgd2FzIHdyaXR0ZW4sIGNoZWNrIGlmIHRoZSBjb21tYW5kIGhhcyBhbiBvdXRwdXQuLi5cclxuXHRcdFx0XHRcdGlmICh0aGlzLmN1cnJlbnRFdmVudCEuY29tbWFuZCEub3V0cHV0ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdFx0dmFyIG5ld091dHB1dCA9IFwiXCJcclxuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiB0aGlzLmN1cnJlbnRFdmVudCEuY29tbWFuZCEub3V0cHV0ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdFx0XHRcdFx0XHRuZXdPdXRwdXQgPSB0aGlzLmN1cnJlbnRFdmVudCEuY29tbWFuZCEub3V0cHV0KClcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRuZXdPdXRwdXQgPSB0aGlzLmN1cnJlbnRFdmVudCEuY29tbWFuZCEub3V0cHV0XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0LyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVDdXJzb3IoKVxyXG5cdFx0XHRcdFx0XHRcdHRoaXMud3JpdGVMaW5lQnJlYWtUb1N0ZG91dCgpXHJcblx0XHRcdFx0XHRcdFx0dGhpcy53cml0ZVRvU3Rkb3V0KG5ld091dHB1dCwgMCwgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQWZ0ZXIgY29tbWFuZCBvdXRwdXQgd2FzIHdyaXR0ZW4uLi5cclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMud3JpdGVMaW5lQnJlYWtUb1N0ZG91dCgpXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLndyaXRlRW52aXJvbWVudExpbmVUb1N0ZG91dCgpXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLndyaXRlSW5wdXRMaW5lU3RhcnRUb1N0ZG91dCgpXHJcblx0XHRcdFx0XHRcdFx0XHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5cdFx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYXBwZW5kQ3Vyc29yKClcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5ydW4oY2FsbGJhY2spXHJcblx0XHRcdFx0XHRcdFx0XHR9LCB0aGlzLmN1cnJlbnRFdmVudCEuZGVsYXlBZnRlcilcclxuXHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHR9LCB0aGlzLmN1cnJlbnRFdmVudCEuY29tbWFuZCEucGF1c2VCZWZvcmVPdXRwdXQpXHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR0aGlzLndyaXRlTGluZUJyZWFrVG9TdGRvdXQoKVxyXG5cdFx0XHRcdFx0XHR0aGlzLndyaXRlRW52aXJvbWVudExpbmVUb1N0ZG91dCgpXHJcblx0XHRcdFx0XHRcdHRoaXMud3JpdGVJbnB1dExpbmVTdGFydFRvU3Rkb3V0KClcclxuXHRcdFx0XHRcdFx0LyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB0aGlzLnJ1bihjYWxsYmFjayksIHRoaXMuY3VycmVudEV2ZW50IS5kZWxheUFmdGVyKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gSWYgdGhlIGN1cnJlbnQgZXZlbnRzIGNvbW1hbmQgaXMgdW5kZWZpbmVkLCBjb250aW51ZSBydW5uaW5nLi4uXHJcblx0XHRcdFx0LyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucnVuKGNhbGxiYWNrKVxyXG5cdFx0XHRcdH0sIHRoaXMuY3VycmVudEV2ZW50LmRlbGF5QWZ0ZXIpXHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIElmIG5vIGV2ZW50IGlzIGxlZnQgaW4gdGhlIHF1ZXVlLCBydW4gY2FsYmFjay4uLlxyXG5cdFx0XHRpZiAoY2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdGNhbGxiYWNrKClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW1vdmVDdXJzb3IgPSAoKSA9PiB7XHJcblx0XHR0aGlzLmN1cnNvckVsZW1lbnQucmVtb3ZlKClcclxuXHR9XHJcblx0cHJpdmF0ZSBhcHBlbmRDdXJzb3IgPSAoKSA9PiB7XHJcblx0XHR0aGlzLndyYXBwZXJFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY3Vyc29yRWxlbWVudClcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgYSByYW5kb20gaW50ZWdlciBpbiB0aGUgcmFuZ2UgZnJvbSBtaW4gdG8gbWF4LCBpbmNsdXNpZlxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBtaW4gTWluaW11bSBudW1iZXIgdG8gZ2VuZXJhdGVcclxuXHQgKiBAcGFyYW0ge051bWJlcn0gbWF4IE1heGltdW0gbnVtYmVyIHRvIGdlbmVyYXRlXHJcblx0ICogQHJldHVybnMgcmFuZG9tIGludGVnZXIgaW4gdGhlIHJhbmdlIGZyb20gbWluIHRvIG1heCwgaW5jbHVzaWZcclxuXHQgKi9cclxuXHRwcml2YXRlIGdldFJhbmRvbUludGVnZXJJblJhbmdlID0gKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikgPT4ge1xyXG5cdFx0cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbilcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIElmIHRoaXMuZW52aXJvbWVudCBpcyBub3QgdW5kZWZpbmVkLCB3cml0ZSBcInVzZXJuYW1lQGhvc3RuYW1lOlwiIHRvIHRoZSBzdGRvdXRcclxuXHQgKi9cclxuXHRwcml2YXRlIHdyaXRlRW52aXJvbWVudExpbmVUb1N0ZG91dCA9ICgpID0+IHtcclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuZW52aXJvbWVudCAhPT0gdW5kZWZpbmVkICYmIHRoaXMub3B0aW9ucy5lbnZpcm9tZW50Lmhvc3RuYW1lLmxlbmd0aCA+IDAgJiYgdGhpcy5vcHRpb25zLmVudmlyb21lbnQudXNlcm5hbWUubGVuZ3RoID4gMCkge1xyXG5cdFx0XHR0aGlzLndyYXBwZXJFbGVtZW50LmlubmVySFRNTCArPSB0aGlzLm9wdGlvbnMuZW52aXJvbWVudC51c2VybmFtZSArIFwiQFwiICsgdGhpcy5vcHRpb25zLmVudmlyb21lbnQuaG9zdG5hbWUgKyBcIjpcIlxyXG5cdFx0fVxyXG5cdH1cclxuXHQvKipcclxuXHQgKiBXcml0ZXMgXCIkIFwiIHRvIHRoZSBzdGRvdXRcclxuXHQgKi9cclxuXHRwcml2YXRlIHdyaXRlSW5wdXRMaW5lU3RhcnRUb1N0ZG91dCA9ICgpID0+IHtcclxuXHRcdHRoaXMud3JhcHBlckVsZW1lbnQuaW5uZXJIVE1MICs9IFwiJCBcIlxyXG5cdH1cclxuXHQvKipcclxuXHQgKiBXcml0ZXMgXCJcXG5cIiAoXFw8YnIgLz4pIHRvIHRoZSBzdGRvdXRcclxuXHQgKi9cclxuXHRwcml2YXRlIHdyaXRlTGluZUJyZWFrVG9TdGRvdXQgPSAoKSA9PiB7XHJcblx0XHR0aGlzLndyYXBwZXJFbGVtZW50LmlubmVySFRNTCArPSBcIjxiciAvPlwiXHJcblx0fVxyXG5cdC8qKlxyXG5cdCAqIFdyaXRlcyB0aGUgc3BlY2lmaWVkIHRleHQgdG8gdGhlIHRlcm1pbmFsIHdyYXBwZXIuXHJcblx0ICpcclxuXHQgKiBJZiBzcGVlZCA9PT0gMCwgaXQgd2lsbCByZW1vdmUgdGhlIGN1cnNvciBmcm9tIHRoZSB3cmFwcGVyLlxyXG5cdCAqIElmIHNwZWVkID4gMCwgdGhlIGN1cnNvciB3aWxsIHJlbW92ZSBiZWZvcmUgYW5kIGFwcGVuZGVkIGFmdGVyIGV2ZXJ5IGNoYXJhY3Rlci5cclxuXHQgKiBAcGFyYW0gdGV4dCB0ZXh0IHRvIHdyaXRlIHRvIHN0ZG91dFxyXG5cdCAqIEBwYXJhbSBzcGVlZCBzcGVlZCBhdCB3aGljaCBlYWNoIGNoYXJhY3RlciBpcyB3cml0dGVuIHRvIHN0ZG91dFxyXG5cdCAqIEBwYXJhbSBjYWxsYmFjayBnZXRzIGV4Y2VjdXRlZCB3aGVuIHdyaXRpbmcgdG8gc3Rkb3V0IGhhcyBmaW5pc2hlZFxyXG5cdCAqIEBwYXJhbSBpIHVzZWQgZm9yIHJlY3Vyc2lvbiBwdXJwb3Nlc1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgd3JpdGVUb1N0ZG91dCA9ICh0ZXh0OiBzdHJpbmcsIHNwZWVkOiBcIm5ldXRyYWxcIiB8IG51bWJlciwgY2FsbGJhY2s6ICgpID0+IHZvaWQsIGk6IG51bWJlciA9IDApID0+IHtcclxuXHRcdGlmIChzcGVlZCA9PT0gMCkge1xyXG5cdFx0XHR0aGlzLnJlbW92ZUN1cnNvcigpXHJcblx0XHRcdHRoaXMud3JhcHBlckVsZW1lbnQuaW5uZXJIVE1MICs9IHRleHRcclxuXHRcdFx0Y2FsbGJhY2soKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKGkgPCB0ZXh0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdHRoaXMucmVtb3ZlQ3Vyc29yKClcclxuXHRcdFx0XHR0aGlzLndyYXBwZXJFbGVtZW50LmlubmVySFRNTCArPSB0ZXh0W2ldXHJcblx0XHRcdFx0dGhpcy5hcHBlbmRDdXJzb3IoKVxyXG5cdFx0XHRcdGkrK1xyXG5cdFx0XHRcdGlmIChzcGVlZCA9PT0gXCJuZXV0cmFsXCIpIHtcclxuXHRcdFx0XHRcdC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHRoaXMud3JpdGVUb1N0ZG91dCh0ZXh0LCBzcGVlZCwgY2FsbGJhY2ssIGkpLCB0aGlzLmdldFJhbmRvbUludGVnZXJJblJhbmdlKDgwLCAxMjApKVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB0aGlzLndyaXRlVG9TdGRvdXQodGV4dCwgc3BlZWQsIGNhbGxiYWNrLCBpKSwgc3BlZWQpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIFxyXG5cdFx0XHRcdGNhbGxiYWNrKClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVW5peFRlcm1pbmFsRW11bGF0b3JcclxuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJpZCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJsZW5ndGgiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJ1bmRlZmluZWQiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsIl9rIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsInN0eWxlc0luRE9NIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsImluZGV4QnlJZGVudGlmaWVyIiwib2JqIiwiY3NzIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRFbGVtZW50U3R5bGUiLCJieUluZGV4Iiwic3BsaWNlIiwiYXBpIiwiZG9tQVBJIiwidXBkYXRlIiwibmV3T2JqIiwicmVtb3ZlIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsImluZGV4IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJtZW1vIiwiaW5zZXJ0Iiwic3R5bGUiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJnZXRUYXJnZXQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsInN0eWxlRWxlbWVudCIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJhcHBseSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZVN0eWxlRWxlbWVudCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiZmlyc3RDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJuYyIsIlVuaXhUZXJtaW5hbEVtdWxhdG9yIiwid3JhcHBlcklkIiwid3JhcHBlckNsYXNzTmFtZSIsImN1cnNvciIsImN1cnNvcklkIiwiY3Vyc29yQ2xhc3NOYW1lIiwiY3Vyc29yQW5pbWF0aW9uIiwiZW52aXJvbWVudCIsImNvbW1hbmQiLCJldmVudFF1ZXVlIiwiZGVsYXlBZnRlciIsImNvbW1hbmRzIiwiZm9yRWFjaCIsImMiLCJtcyIsImNhbGxiYWNrIiwiY3VycmVudEV2ZW50Iiwic2hpZnQiLCJoaXN0b3J5U3RhY2siLCJ3cml0ZVRvU3Rkb3V0IiwidGV4dCIsIndyaXRlU3BlZWQiLCJvdXRwdXQiLCJuZXdPdXRwdXQiLCJzZXRUaW1lb3V0IiwicmVtb3ZlQ3Vyc29yIiwid3JpdGVMaW5lQnJlYWtUb1N0ZG91dCIsIndyaXRlRW52aXJvbWVudExpbmVUb1N0ZG91dCIsIndyaXRlSW5wdXRMaW5lU3RhcnRUb1N0ZG91dCIsImFwcGVuZEN1cnNvciIsInJ1biIsInBhdXNlQmVmb3JlT3V0cHV0IiwiY3Vyc29yRWxlbWVudCIsIndyYXBwZXJFbGVtZW50IiwibWluIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiaG9zdG5hbWUiLCJ1c2VybmFtZSIsImlubmVySFRNTCIsInNwZWVkIiwiZ2V0UmFuZG9tSW50ZWdlckluUmFuZ2UiLCJ3cmFwcGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJib2R5IiwiaW5uZXJUZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==