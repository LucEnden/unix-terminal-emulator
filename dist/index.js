!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.UnixTerminalEmulator=e():t.UnixTerminalEmulator=e()}(self,(()=>(()=>{"use strict";var t={28:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(537),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"@keyframes terminal___cursor___fluid {\r\n\t0% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t50% {\r\n\t\topacity: 0%;\r\n\t}\r\n\t100% {\r\n\t\topacity: 100%;\r\n\t}\r\n}\r\n.terminal___cursor___fluid {\r\n\tanimation: terminal___cursor___fluid 1s infinite;\r\n}\r\n\r\n@keyframes terminal___cursor___static {\r\n\t0% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t39% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t40% {\r\n\t\topacity: 0%;\r\n\t}\r\n\t59% {\r\n\t\topacity: 0%;\r\n\t}\r\n\t60% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t100% {\r\n\t\topacity: 100%;\r\n\t}\r\n}\r\n.terminal___cursor___static {\r\n\tanimation: terminal___cursor___static 1s infinite;\r\n}\r\n\r\n.terminal___cursor___none {\r\n\tanimation: none;\r\n}\r\n","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;CACC;EACC,aAAa;CACd;CACA;EACC,WAAW;CACZ;CACA;EACC,aAAa;CACd;AACD;AACA;CACC,gDAAgD;AACjD;;AAEA;CACC;EACC,aAAa;CACd;CACA;EACC,aAAa;CACd;CACA;EACC,WAAW;CACZ;CACA;EACC,WAAW;CACZ;CACA;EACC,aAAa;CACd;CACA;EACC,aAAa;CACd;AACD;AACA;CACC,iDAAiD;AAClD;;AAEA;CACC,eAAe;AAChB",sourcesContent:["@keyframes terminal___cursor___fluid {\r\n\t0% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t50% {\r\n\t\topacity: 0%;\r\n\t}\r\n\t100% {\r\n\t\topacity: 100%;\r\n\t}\r\n}\r\n.terminal___cursor___fluid {\r\n\tanimation: terminal___cursor___fluid 1s infinite;\r\n}\r\n\r\n@keyframes terminal___cursor___static {\r\n\t0% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t39% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t40% {\r\n\t\topacity: 0%;\r\n\t}\r\n\t59% {\r\n\t\topacity: 0%;\r\n\t}\r\n\t60% {\r\n\t\topacity: 100%;\r\n\t}\r\n\t100% {\r\n\t\topacity: 100%;\r\n\t}\r\n}\r\n.terminal___cursor___static {\r\n\tanimation: terminal___cursor___static 1s infinite;\r\n}\r\n\r\n.terminal___cursor___none {\r\n\tanimation: none;\r\n}\r\n"],sourceRoot:""}]);const s=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var c=0;c<t.length;c++){var p=[].concat(t[c]);r&&a[p[0]]||(void 0!==i&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=i),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),o&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=o):p[4]="".concat(o)),e.push(p))}},e}},537:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(a).concat([i]).join("\n")}return[e].join("\n")}},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var u=t[s],c=r.base?u[0]+r.base:u[0],p=i[c]||0,l="".concat(c," ").concat(p);i[c]=p+1;var d=n(l),m={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)e[d].references++,e[d].updater(m);else{var f=o(m,r);r.byIndex=s,e.splice(s,0,{identifier:l,updater:f,references:1})}a.push(l)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var u=r(t,o),c=0;c<i.length;c++){var p=n(i[c]);0===e[p].references&&(e[p].updater(),e.splice(p,1))}i=u}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var r={};return(()=>{n.d(r,{default:()=>E});var t=n(379),e=n.n(t),o=n(795),i=n.n(o),a=n(569),s=n.n(a),u=n(565),c=n.n(u),p=n(216),l=n.n(p),d=n(589),m=n.n(d),f=n(28),_={};function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e,n){return e&&A(t.prototype,e),n&&A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}_.styleTagTransform=m(),_.setAttributes=c(),_.insert=s().bind(null,"head"),_.domAPI=i(),_.insertStyleElement=l(),e()(f.Z,_),f.Z&&f.Z.locals&&f.Z.locals;var b=C((function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"historyStack",[]),y(this,"eventQueue",[]),y(this,"options",{wrapperId:"terminal___emulator___wrapper",wrapperClassName:"terminal___emulator___wrapper",cursor:"|",cursorId:"terminal___emulator___cursor",cursorClassName:"terminal___emulator___cursor",cursorAnimation:"static",enviroment:void 0}),y(this,"HISTSIZE",500),y(this,"addCommand",(function(t){return n.eventQueue.push({delayAfter:0,command:t}),n})),y(this,"addCommands",(function(t){return t.forEach((function(t){n.eventQueue.push({delayAfter:0,command:t})})),n})),y(this,"pause",(function(t){return n.eventQueue.push({delayAfter:t}),n})),y(this,"echo",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"neutral",r=arguments.length>2?arguments[2]:void 0;return n.eventQueue.push({command:{text:"echo "+t,writeSpeed:e,output:t,pauseBeforeOutput:r}}),n})),y(this,"history",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"neutral",e=arguments.length>1?arguments[1]:void 0;return n.eventQueue.push({command:{text:"history",writeSpeed:t,output:n.getHistoryOutput,pauseBeforeOutput:e}}),n})),y(this,"getHistoryOutput",(function(){for(var t=[],e=0,r=n.historyStack.length;r>0;r--){var o="";if(r<10?o+="&nbsp;&nbsp;&nbsp;&nbsp;":r<100?o+="&nbsp;&nbsp;&nbsp;":r<1e3?o+="&nbsp;&nbsp;":r<1e4&&(o+="&nbsp;"),o+="".concat(r,"&nbsp;&nbsp;").concat(n.historyStack[r-1].text),t.push(o),++e>=n.HISTSIZE)break}return t.reverse().join("<br />")})),y(this,"run",(function(t){n.currentEvent=n.eventQueue.shift(),void 0!==n.currentEvent?void 0!==n.currentEvent.command?(n.historyStack.push(n.currentEvent.command),n.writeToStdout(n.currentEvent.command.text,n.currentEvent.command.writeSpeed,(function(){if(void 0!==n.currentEvent.command.output){var e;e="function"==typeof n.currentEvent.command.output?n.currentEvent.command.output():n.currentEvent.command.output,setTimeout((function(){n.removeCursor(),n.writeLineBreakToStdout(),n.writeToStdout(e,0,(function(){n.writeLineBreakToStdout(),n.writeEnviromentLineToStdout(),n.writeInputLineStartToStdout(),setTimeout((function(){n.appendCursor(),n.run(t)}),n.currentEvent.delayAfter)}))}),n.currentEvent.command.pauseBeforeOutput)}else n.writeLineBreakToStdout(),n.writeEnviromentLineToStdout(),n.writeInputLineStartToStdout(),setTimeout((function(){return n.run(t)}),n.currentEvent.delayAfter)}))):setTimeout((function(){n.run(t)}),n.currentEvent.delayAfter):void 0!==t&&t()})),y(this,"removeCursor",(function(){n.cursorElement.remove()})),y(this,"appendCursor",(function(){n.wrapperElement.appendChild(n.cursorElement)})),y(this,"getRandomIntegerInRange",(function(t,e){return Math.floor(Math.random()*(e-t+1)+t)})),y(this,"writeEnviromentLineToStdout",(function(){void 0!==n.options.enviroment&&n.options.enviroment.hostname.length>0&&n.options.enviroment.username.length>0&&(n.wrapperElement.innerHTML+=n.options.enviroment.username+"@"+n.options.enviroment.hostname+":")})),y(this,"writeInputLineStartToStdout",(function(){n.wrapperElement.innerHTML+="$ "})),y(this,"writeLineBreakToStdout",(function(){n.wrapperElement.innerHTML+="<br />"})),y(this,"writeToStdout",(function(t,e,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;0===e?(n.removeCursor(),n.wrapperElement.innerHTML+=t,r()):o<t.length?(n.removeCursor(),n.wrapperElement.innerHTML+=t[o],n.appendCursor(),o++,"neutral"===e?setTimeout((function(){return n.writeToStdout(t,e,r,o)}),n.getRandomIntegerInRange(80,120)):setTimeout((function(){return n.writeToStdout(t,e,r,o)}),e)):r()})),e&&(this.options=h(h({},this.options),e));var r=document.getElementById(this.options.wrapperId);switch(null===r&&((r=document.createElement("div")).id=this.options.wrapperId),this.options.wrapperClassName.length>0&&r.classList.add(this.options.wrapperClassName),this.wrapperElement=r,document.body.appendChild(this.wrapperElement),this.cursorElement=document.createElement("span"),this.cursorElement.id=this.options.cursorId,this.cursorElement.innerText=this.options.cursor,this.options.cursorAnimation){case"fluid":this.cursorElement.classList.add("terminal___cursor___fluid");break;case"static":this.cursorElement.classList.add("terminal___cursor___static");break;case void 0:this.cursorElement.classList.add("terminal___cursor___none")}this.cursorElement.classList.add(this.options.cursorClassName),this.writeEnviromentLineToStdout(),this.writeInputLineStartToStdout(),this.appendCursor()}));const E=b})(),r.default})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGNBQWM1SixHQUFLSSxLQUFLb0MsUUFBUW1GLFNBQ3JDdkgsS0FBS3dKLGNBQWNpQixVQUFZekssS0FBS29DLFFBQVFrRixPQUNwQ3RILEtBQUtvQyxRQUFRcUYsaUJBQ3BCLElBQUssUUFDSnpILEtBQUt3SixjQUFjYyxVQUFVQyxJQUFJLDZCQUNqQyxNQUNELElBQUssU0FDSnZLLEtBQUt3SixjQUFjYyxVQUFVQyxJQUFJLDhCQUNqQyxNQUNELFVBQUt6SixFQUNKZCxLQUFLd0osY0FBY2MsVUFBVUMsSUFBSSw0QkFHbkN2SyxLQUFLd0osY0FBY2MsVUFBVUMsSUFBSXZLLEtBQUtvQyxRQUFRb0YsaUJBRTlDeEgsS0FBS29KLDhCQUNMcEosS0FBS3FKLDhCQUNMckosS0FBS3NKLGNBQ0wsSUErUUYsUyIsInNvdXJjZXMiOlsid2VicGFjazovL1VuaXhUZXJtaW5hbEVtdWxhdG9yL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9Vbml4VGVybWluYWxFbXVsYXRvci8uL3NyYy9zdHlsZXMuY3NzIiwid2VicGFjazovL1VuaXhUZXJtaW5hbEVtdWxhdG9yLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9Vbml4VGVybWluYWxFbXVsYXRvci8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL1VuaXhUZXJtaW5hbEVtdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL1VuaXhUZXJtaW5hbEVtdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9Vbml4VGVybWluYWxFbXVsYXRvci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9Vbml4VGVybWluYWxFbXVsYXRvci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9Vbml4VGVybWluYWxFbXVsYXRvci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL1VuaXhUZXJtaW5hbEVtdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vVW5peFRlcm1pbmFsRW11bGF0b3Ivd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vVW5peFRlcm1pbmFsRW11bGF0b3Ivd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vVW5peFRlcm1pbmFsRW11bGF0b3Ivd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL1VuaXhUZXJtaW5hbEVtdWxhdG9yL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vVW5peFRlcm1pbmFsRW11bGF0b3Ivd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL1VuaXhUZXJtaW5hbEVtdWxhdG9yLy4vc3JjL3N0eWxlcy5jc3M/NDRiMiIsIndlYnBhY2s6Ly9Vbml4VGVybWluYWxFbXVsYXRvci8uL3NyYy9Vbml4VGVybWluYWxFbXVsYXRvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJVbml4VGVybWluYWxFbXVsYXRvclwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJVbml4VGVybWluYWxFbXVsYXRvclwiXSA9IGZhY3RvcnkoKTtcbn0pKHNlbGYsICgpID0+IHtcbnJldHVybiAiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIkBrZXlmcmFtZXMgdGVybWluYWxfX19jdXJzb3JfX19mbHVpZCB7XFxyXFxuXFx0MCUge1xcclxcblxcdFxcdG9wYWNpdHk6IDEwMCU7XFxyXFxuXFx0fVxcclxcblxcdDUwJSB7XFxyXFxuXFx0XFx0b3BhY2l0eTogMCU7XFxyXFxuXFx0fVxcclxcblxcdDEwMCUge1xcclxcblxcdFxcdG9wYWNpdHk6IDEwMCU7XFxyXFxuXFx0fVxcclxcbn1cXHJcXG4udGVybWluYWxfX19jdXJzb3JfX19mbHVpZCB7XFxyXFxuXFx0YW5pbWF0aW9uOiB0ZXJtaW5hbF9fX2N1cnNvcl9fX2ZsdWlkIDFzIGluZmluaXRlO1xcclxcbn1cXHJcXG5cXHJcXG5Aa2V5ZnJhbWVzIHRlcm1pbmFsX19fY3Vyc29yX19fc3RhdGljIHtcXHJcXG5cXHQwJSB7XFxyXFxuXFx0XFx0b3BhY2l0eTogMTAwJTtcXHJcXG5cXHR9XFxyXFxuXFx0MzklIHtcXHJcXG5cXHRcXHRvcGFjaXR5OiAxMDAlO1xcclxcblxcdH1cXHJcXG5cXHQ0MCUge1xcclxcblxcdFxcdG9wYWNpdHk6IDAlO1xcclxcblxcdH1cXHJcXG5cXHQ1OSUge1xcclxcblxcdFxcdG9wYWNpdHk6IDAlO1xcclxcblxcdH1cXHJcXG5cXHQ2MCUge1xcclxcblxcdFxcdG9wYWNpdHk6IDEwMCU7XFxyXFxuXFx0fVxcclxcblxcdDEwMCUge1xcclxcblxcdFxcdG9wYWNpdHk6IDEwMCU7XFxyXFxuXFx0fVxcclxcbn1cXHJcXG4udGVybWluYWxfX19jdXJzb3JfX19zdGF0aWMge1xcclxcblxcdGFuaW1hdGlvbjogdGVybWluYWxfX19jdXJzb3JfX19zdGF0aWMgMXMgaW5maW5pdGU7XFxyXFxufVxcclxcblxcclxcbi50ZXJtaW5hbF9fX2N1cnNvcl9fX25vbmUge1xcclxcblxcdGFuaW1hdGlvbjogbm9uZTtcXHJcXG59XFxyXFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlcy5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7Q0FDQztFQUNDLGFBQWE7Q0FDZDtDQUNBO0VBQ0MsV0FBVztDQUNaO0NBQ0E7RUFDQyxhQUFhO0NBQ2Q7QUFDRDtBQUNBO0NBQ0MsZ0RBQWdEO0FBQ2pEOztBQUVBO0NBQ0M7RUFDQyxhQUFhO0NBQ2Q7Q0FDQTtFQUNDLGFBQWE7Q0FDZDtDQUNBO0VBQ0MsV0FBVztDQUNaO0NBQ0E7RUFDQyxXQUFXO0NBQ1o7Q0FDQTtFQUNDLGFBQWE7Q0FDZDtDQUNBO0VBQ0MsYUFBYTtDQUNkO0FBQ0Q7QUFDQTtDQUNDLGlEQUFpRDtBQUNsRDs7QUFFQTtDQUNDLGVBQWU7QUFDaEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiQGtleWZyYW1lcyB0ZXJtaW5hbF9fX2N1cnNvcl9fX2ZsdWlkIHtcXHJcXG5cXHQwJSB7XFxyXFxuXFx0XFx0b3BhY2l0eTogMTAwJTtcXHJcXG5cXHR9XFxyXFxuXFx0NTAlIHtcXHJcXG5cXHRcXHRvcGFjaXR5OiAwJTtcXHJcXG5cXHR9XFxyXFxuXFx0MTAwJSB7XFxyXFxuXFx0XFx0b3BhY2l0eTogMTAwJTtcXHJcXG5cXHR9XFxyXFxufVxcclxcbi50ZXJtaW5hbF9fX2N1cnNvcl9fX2ZsdWlkIHtcXHJcXG5cXHRhbmltYXRpb246IHRlcm1pbmFsX19fY3Vyc29yX19fZmx1aWQgMXMgaW5maW5pdGU7XFxyXFxufVxcclxcblxcclxcbkBrZXlmcmFtZXMgdGVybWluYWxfX19jdXJzb3JfX19zdGF0aWMge1xcclxcblxcdDAlIHtcXHJcXG5cXHRcXHRvcGFjaXR5OiAxMDAlO1xcclxcblxcdH1cXHJcXG5cXHQzOSUge1xcclxcblxcdFxcdG9wYWNpdHk6IDEwMCU7XFxyXFxuXFx0fVxcclxcblxcdDQwJSB7XFxyXFxuXFx0XFx0b3BhY2l0eTogMCU7XFxyXFxuXFx0fVxcclxcblxcdDU5JSB7XFxyXFxuXFx0XFx0b3BhY2l0eTogMCU7XFxyXFxuXFx0fVxcclxcblxcdDYwJSB7XFxyXFxuXFx0XFx0b3BhY2l0eTogMTAwJTtcXHJcXG5cXHR9XFxyXFxuXFx0MTAwJSB7XFxyXFxuXFx0XFx0b3BhY2l0eTogMTAwJTtcXHJcXG5cXHR9XFxyXFxufVxcclxcbi50ZXJtaW5hbF9fX2N1cnNvcl9fX3N0YXRpYyB7XFxyXFxuXFx0YW5pbWF0aW9uOiB0ZXJtaW5hbF9fX2N1cnNvcl9fX3N0YXRpYyAxcyBpbmZpbml0ZTtcXHJcXG59XFxyXFxuXFxyXFxuLnRlcm1pbmFsX19fY3Vyc29yX19fbm9uZSB7XFxyXFxuXFx0YW5pbWF0aW9uOiBub25lO1xcclxcbn1cXHJcXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcblxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG5cbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG5cbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cblxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG5cbiAgY3NzICs9IG9iai5jc3M7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZXMuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZXMuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiaW1wb3J0IHsgVGVybWluYWxDb21tYW5kLCBUZXJtaW5hbE9wdGlvbnMsIFRlcm1pbmFsRXZlbnQgfSBmcm9tIFwiLi9pbnRlcmZhY2VzXCJcclxuaW1wb3J0IFwiLi9zdHlsZXMuY3NzXCJcclxuXHJcbi8vIFRPRE86IGFkZCBTUzY0IGxpbmtzIHRvIGV2ZXJ5IGNvbW1hbmQganNkb2NcclxuXHJcbi8qKlxyXG4gKiBFbXVsYXRlcyBhIHVuaXggdGVybWluYWwgYnkgdHlwaW5nIG91dCBjb21tYW5kcyBhbmQgdGhlcmUgc3BlY2lmaWVkIG91dHB1dHMuXHJcbiAqIEFsbG93cyB5b3UgdG8gYnVpbGQgYW4gZXZlbnQgc2VxdWVuY2Ugb2YgY29tbWFuZHMgYW5kIHRpbWluZ3Mgd2hpY2ggZ2V0cyBleGNlY3V0ZWQgd2hlbiB0aGUgcnVuIG1ldGhvZCBpcyBjYWxsZWQuXHJcbiAqXHJcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vTHVjRW5kZW4vdW5peC10ZXJtaW5hbC1lbXVsYXRvcn1cclxuICovXHJcbmNsYXNzIFVuaXhUZXJtaW5hbEVtdWxhdG9yIHtcclxuXHQvKipcclxuXHQgKiBDb250YWlucyBhbGwgY29tbWFuZHMgZXhlY3V0ZWQgc28gZmFyIGJ5IHJ1bi5cclxuXHQgKi9cclxuXHRwcml2YXRlIHJlYWRvbmx5IGhpc3RvcnlTdGFjayA9IFtdIGFzIEFycmF5PFRlcm1pbmFsQ29tbWFuZD5cclxuXHQvKipcclxuXHQgKiBDb250YWlucyBhbGwgZXZlbnRzIHRvIGJlIGV4ZWN1dGVkIGJ5IHJ1bi5cclxuXHQgKi9cclxuXHRwcml2YXRlIHJlYWRvbmx5IGV2ZW50UXVldWUgPSBbXSBhcyBBcnJheTxUZXJtaW5hbEV2ZW50PlxyXG5cdC8qKlxyXG5cdCAqIFVzZWQgaW4gcnVuIHRvIGRldGVybWluZSBpZiB0aGVyZSBhcmUgYW55IGV2ZW50cyBsZWZ0IHRvIGJlIGV4ZWN1dGVkLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgY3VycmVudEV2ZW50OiBUZXJtaW5hbEV2ZW50IHwgdW5kZWZpbmVkXHJcblxyXG5cdC8qKlxyXG5cdCAqIERlZmF1bHQgdmFsdWVzIGZvciBUZXJtaW5hbE9wdGlvbnMuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBvcHRpb25zOiBUZXJtaW5hbE9wdGlvbnMgPSB7XHJcblx0XHR3cmFwcGVySWQ6IFwidGVybWluYWxfX19lbXVsYXRvcl9fX3dyYXBwZXJcIixcclxuXHRcdHdyYXBwZXJDbGFzc05hbWU6IFwidGVybWluYWxfX19lbXVsYXRvcl9fX3dyYXBwZXJcIixcclxuXHRcdGN1cnNvcjogXCJ8XCIsXHJcblx0XHRjdXJzb3JJZDogXCJ0ZXJtaW5hbF9fX2VtdWxhdG9yX19fY3Vyc29yXCIsXHJcblx0XHRjdXJzb3JDbGFzc05hbWU6IFwidGVybWluYWxfX19lbXVsYXRvcl9fX2N1cnNvclwiLFxyXG5cdFx0Y3Vyc29yQW5pbWF0aW9uOiBcInN0YXRpY1wiLFxyXG5cdFx0ZW52aXJvbWVudDogdW5kZWZpbmVkLFxyXG5cdH1cclxuXHQvKipcclxuXHQgKiBUaGUgSFRNTCBlbGVtZW50IHRvIHdoaWNoIGFsbCB0ZXh0IHNob3VsZCBiZSB3cml0dGVuIHRvLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgd3JhcHBlckVsZW1lbnQ6IEhUTUxFbGVtZW50XHJcblx0LyoqXHJcblx0ICogVGhlIEhUTUwgZWxlbWVudCB0aGF0IGFjdHMgYXMgdGhlIGN1cnNvclxyXG5cdCAqL1xyXG5cdHByaXZhdGUgY3Vyc29yRWxlbWVudDogSFRNTEVsZW1lbnRcclxuXHJcblx0Y29uc3RydWN0b3Iob3B0aW9ucz86IFRlcm1pbmFsT3B0aW9ucykge1xyXG5cdFx0aWYgKG9wdGlvbnMpIHtcclxuXHRcdFx0dGhpcy5vcHRpb25zID0ge1xyXG5cdFx0XHRcdC4uLnRoaXMub3B0aW9ucyxcclxuXHRcdFx0XHQuLi5vcHRpb25zLFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHdyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm9wdGlvbnMud3JhcHBlcklkISlcclxuXHRcdGlmICh3cmFwcGVyID09PSBudWxsKSB7XHJcblx0XHRcdHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcblx0XHRcdHdyYXBwZXIuaWQgPSB0aGlzLm9wdGlvbnMud3JhcHBlcklkIVxyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMub3B0aW9ucy53cmFwcGVyQ2xhc3NOYW1lIS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdHdyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzTmFtZSEpXHJcblx0XHR9XHJcblx0XHR0aGlzLndyYXBwZXJFbGVtZW50ID0gd3JhcHBlclxyXG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLndyYXBwZXJFbGVtZW50KVxyXG5cclxuXHRcdHRoaXMuY3Vyc29yRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXHJcblx0XHR0aGlzLmN1cnNvckVsZW1lbnQuaWQgPSB0aGlzLm9wdGlvbnMuY3Vyc29ySWQhXHJcblx0XHR0aGlzLmN1cnNvckVsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy5vcHRpb25zLmN1cnNvciFcclxuXHRcdHN3aXRjaCAodGhpcy5vcHRpb25zLmN1cnNvckFuaW1hdGlvbikge1xyXG5cdFx0XHRjYXNlIFwiZmx1aWRcIjpcclxuXHRcdFx0XHR0aGlzLmN1cnNvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRlcm1pbmFsX19fY3Vyc29yX19fZmx1aWRcIilcclxuXHRcdFx0XHRicmVha1xyXG5cdFx0XHRjYXNlIFwic3RhdGljXCI6XHJcblx0XHRcdFx0dGhpcy5jdXJzb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0ZXJtaW5hbF9fX2N1cnNvcl9fX3N0YXRpY1wiKVxyXG5cdFx0XHRcdGJyZWFrXHJcblx0XHRcdGNhc2UgdW5kZWZpbmVkOlxyXG5cdFx0XHRcdHRoaXMuY3Vyc29yRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGVybWluYWxfX19jdXJzb3JfX19ub25lXCIpXHJcblx0XHRcdFx0YnJlYWtcclxuXHRcdH1cclxuXHRcdHRoaXMuY3Vyc29yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMub3B0aW9ucy5jdXJzb3JDbGFzc05hbWUhKVxyXG5cclxuXHRcdHRoaXMud3JpdGVFbnZpcm9tZW50TGluZVRvU3Rkb3V0KClcclxuXHRcdHRoaXMud3JpdGVJbnB1dExpbmVTdGFydFRvU3Rkb3V0KClcclxuXHRcdHRoaXMuYXBwZW5kQ3Vyc29yKClcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEJhc2VkIG9uIGhpc3RzaXplIHZhcmlhYmxlIGluIGJhc2g6IGVjaG8gJEhJU1RTSVpFXHJcblx0ICpcclxuXHQgKiBzZWU6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE5NDU0ODM3L2Jhc2gtaGlzdHNpemUtdnMtaGlzdGZpbGVzaXplI2Fuc3dlci0xOTQ1NDgzOFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBISVNUU0laRSA9IDUwMFxyXG5cclxuXHQvKipcclxuXHQgKiBBZGRzIGEgY29tbWFuZCB0byB0aGUgdG8gcXVldWUuXHJcblx0ICogQHBhcmFtIHtUZXJtaW5hbENvbW1hbmR9IGNvbW1hbmQgXHRUaGUgY29tbWFuZCB0byBhZGQgdGhlIHRoZSBxdWV1ZVxyXG5cdCAqIEByZXR1cm5zIHtVbml4VGVybWluYWxFbXVsYXRvcn0gXHRcdFRoZSBjdXJyZW50IGluc3RhbmNlIG9mIFVuaXhUZXJtaW5hbEVtdWxhdG9yXHJcblx0ICovXHJcblx0cHVibGljIGFkZENvbW1hbmQgPSAoY29tbWFuZDogVGVybWluYWxDb21tYW5kKTogVW5peFRlcm1pbmFsRW11bGF0b3IgPT4ge1xyXG5cdFx0dGhpcy5ldmVudFF1ZXVlLnB1c2goe1xyXG5cdFx0XHRkZWxheUFmdGVyOiAwLFxyXG5cdFx0XHRjb21tYW5kOiBjb21tYW5kLFxyXG5cdFx0fSBhcyBUZXJtaW5hbEV2ZW50KVxyXG5cdFx0cmV0dXJuIHRoaXNcclxuXHR9XHJcblx0LyoqXHJcblx0ICogQWRkcyBtdWx0aXBsZSBjb21tYW5kcyB0byB0aGUgdG8gcXVldWUuXHJcblx0ICogQHBhcmFtIHtUZXJtaW5hbENvbW1hbmRbXX0gY29tbWFuZHMgXHRUaGUgY29tbWFuZHMgdG8gYWRkIHRoZSB0aGUgcXVldWVcclxuXHQgKiBAcmV0dXJucyB7VW5peFRlcm1pbmFsRW11bGF0b3J9IFx0XHRUaGUgY3VycmVudCBpbnN0YW5jZSBvZiBVbml4VGVybWluYWxFbXVsYXRvclxyXG5cdCAqL1xyXG5cdHB1YmxpYyBhZGRDb21tYW5kcyA9IChjb21tYW5kczogVGVybWluYWxDb21tYW5kW10pOiBVbml4VGVybWluYWxFbXVsYXRvciA9PiB7XHJcblx0XHRjb21tYW5kcy5mb3JFYWNoKChjKSA9PiB7XHJcblx0XHRcdHRoaXMuZXZlbnRRdWV1ZS5wdXNoKHtcclxuXHRcdFx0XHRkZWxheUFmdGVyOiAwLFxyXG5cdFx0XHRcdGNvbW1hbmQ6IGMsXHJcblx0XHRcdH0gYXMgVGVybWluYWxFdmVudClcclxuXHRcdH0pXHJcblx0XHRyZXR1cm4gdGhpc1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkcyBhIHBhdXNlIGluIHRoZSBldmVudCBzZXF1ZW5jZS5cclxuXHQgKiBAcGFyYW0ge251bWJlcn0gbXMgVGhlIHRpbWUgdG8gcGF1c2UgZm9yIGluIG1pbGlzZWNvbmRzXHJcblx0ICogQHJldHVybnMge1VuaXhUZXJtaW5hbEVtdWxhdG9yfSBUaGUgY3VycmVudCBpbnN0YW5jZSBvZiBVbml4VGVybWluYWxFbXVsYXRvclxyXG5cdCAqL1xyXG5cdHB1YmxpYyBwYXVzZSA9IChtczogbnVtYmVyKTogVW5peFRlcm1pbmFsRW11bGF0b3IgPT4ge1xyXG5cdFx0dGhpcy5ldmVudFF1ZXVlLnB1c2goe1xyXG5cdFx0XHRkZWxheUFmdGVyOiBtcyxcclxuXHRcdH0gYXMgVGVybWluYWxFdmVudClcclxuXHRcdHJldHVybiB0aGlzXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFbXVsYXRlcyB0aGUgZWNobyBjb21tYW5kLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRleHQgXHRcdFx0XHRcdFx0VGhlIHRleHQgdG8gZWNob1xyXG5cdCAqIEBwYXJhbSB7XCJuZXV0cmFsXCJ8bnVtYmVyfSB3cml0ZVNwZWVkIFx0XHRUaGUgc3BlZWQgYXQgd2hpY2ggdG8gd3JpdGUgZWFjaCBjaGFyYWN0ZXIgb2YgdGhlIGNvbW1hbmRcclxuXHQgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHBhdXNlQmVmb3JlT3V0cHV0IFx0VGhlIHRpbWUgdG8gcGF1c2UgYmVmb3JlIHdyaXRpbmcgdGhlIG91dHB1dCBpbiBtaWxpc2Vjb25kc1xyXG5cdCAqIEBleGFtcGxlXHJcblx0ICogZWNobyhcIkhlbGxvLCBXb3JsZFwiKSA9PlxyXG5cdCAqICQgZWNobyBIZWxsbywgV29ybGQhXHJcblx0ICogSGVsbG8sIFdvcmxkIVxyXG5cdCAqIEByZXR1cm5zIHtVbml4VGVybWluYWxFbXVsYXRvcn0gVGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgVW5peFRlcm1pbmFsRW11bGF0b3JcclxuXHQgKi9cclxuXHRwdWJsaWMgZWNobyA9ICh0ZXh0OiBzdHJpbmcsIHdyaXRlU3BlZWQ6IFwibmV1dHJhbFwiIHwgbnVtYmVyID0gXCJuZXV0cmFsXCIsIHBhdXNlQmVmb3JlT3V0cHV0PzogbnVtYmVyKSA9PiB7XHJcblx0XHR0aGlzLmV2ZW50UXVldWUucHVzaCh7XHJcblx0XHRcdGNvbW1hbmQ6IHtcclxuXHRcdFx0XHR0ZXh0OiBcImVjaG8gXCIgKyB0ZXh0LFxyXG5cdFx0XHRcdHdyaXRlU3BlZWQ6IHdyaXRlU3BlZWQsXHJcblx0XHRcdFx0b3V0cHV0OiB0ZXh0LFxyXG5cdFx0XHRcdHBhdXNlQmVmb3JlT3V0cHV0OiBwYXVzZUJlZm9yZU91dHB1dCxcclxuXHRcdFx0fSxcclxuXHRcdH0gYXMgVGVybWluYWxFdmVudClcclxuXHRcdHJldHVybiB0aGlzXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFbXVsYXRlcyB0aGUgaGlzdG9yeSBjb21tYW5kLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtcIm5ldXRyYWxcInxudW1iZXJ9IHdyaXRlU3BlZWQgXHRcdFRoZSBzcGVlZCBhdCB3aGljaCB0byB3cml0ZSBlYWNoIGNoYXJhY3RlciBvZiB0aGUgY29tbWFuZFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcGF1c2VCZWZvcmVPdXRwdXQgXHRUaGUgdGltZSB0byBwYXVzZSBiZWZvcmUgd3JpdGluZyB0aGUgb3V0cHV0IGluIG1pbGlzZWNvbmRzXHJcblx0ICogQHJldHVybnMge1VuaXhUZXJtaW5hbEVtdWxhdG9yfSBcdFx0XHRcdFRoZSBjdXJyZW50IGluc3RhbmNlIG9mIFVuaXhUZXJtaW5hbEVtdWxhdG9yXHJcblx0ICovXHJcblx0cHVibGljIGhpc3RvcnkgPSAod3JpdGVTcGVlZDogXCJuZXV0cmFsXCIgfCBudW1iZXIgPSBcIm5ldXRyYWxcIiwgcGF1c2VCZWZvcmVPdXRwdXQ/OiBudW1iZXIpID0+IHtcclxuXHRcdHRoaXMuZXZlbnRRdWV1ZS5wdXNoKHtcclxuXHRcdFx0Y29tbWFuZDoge1xyXG5cdFx0XHRcdHRleHQ6IFwiaGlzdG9yeVwiLFxyXG5cdFx0XHRcdHdyaXRlU3BlZWQ6IHdyaXRlU3BlZWQsXHJcblx0XHRcdFx0b3V0cHV0OiB0aGlzLmdldEhpc3RvcnlPdXRwdXQsXHJcblx0XHRcdFx0cGF1c2VCZWZvcmVPdXRwdXQ6IHBhdXNlQmVmb3JlT3V0cHV0XHJcblx0XHRcdH0sXHJcblx0XHR9IGFzIFRlcm1pbmFsRXZlbnQpXHJcblx0XHRyZXR1cm4gdGhpc1xyXG5cdH1cclxuXHRwcml2YXRlIGdldEhpc3RvcnlPdXRwdXQgPSAoKSA9PiB7XHJcblx0XHR2YXIgb3V0cHV0ID0gW10gYXMgc3RyaW5nW11cclxuXHRcdHZhciBqID0gMDtcclxuXHRcdGZvciAodmFyIGkgPSB0aGlzLmhpc3RvcnlTdGFjay5sZW5ndGg7IGkgPiAwOyBpLS0pIHtcclxuXHRcdFx0dmFyIG5ld091dHB1dExpbmUgPSBcIlwiXHJcblxyXG5cdFx0XHQvLyBsZWFkaW5nIHNwYWNlcyBhcmUgYmFzZWQgb24gZGVjaW1hbHNcclxuXHRcdFx0Ly8gc2luZ2xlIGRlY2ltYWwgPSA0IHNwYWNlc1xyXG5cdFx0XHQvLyBkb3VibGUgZGVjaW1hbCA9IDMgc3BhY2VzXHJcblx0XHRcdC8vIGV0Yy4uLlxyXG5cdFx0XHRpZiAoaSA8IDEwKSB7XHJcblx0XHRcdFx0bmV3T3V0cHV0TGluZSArPSBcIiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwO1wiXHJcblx0XHRcdH0gZWxzZSBpZiAoaSA8IDEwMCkge1xyXG5cdFx0XHRcdG5ld091dHB1dExpbmUgKz0gXCImbmJzcDsmbmJzcDsmbmJzcDtcIlxyXG5cdFx0XHR9IGVsc2UgaWYgKGkgPCAxMDAwKSB7XHJcblx0XHRcdFx0bmV3T3V0cHV0TGluZSArPSBcIiZuYnNwOyZuYnNwO1wiXHJcblx0XHRcdH0gZWxzZSBpZiAoaSA8IDEwMDAwKSB7XHJcblx0XHRcdFx0bmV3T3V0cHV0TGluZSArPSBcIiZuYnNwO1wiXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG5ld091dHB1dExpbmUgKz0gYCR7aX0mbmJzcDsmbmJzcDske3RoaXMuaGlzdG9yeVN0YWNrW2kgLSAxXS50ZXh0fWBcclxuXHRcdFx0b3V0cHV0LnB1c2gobmV3T3V0cHV0TGluZSlcclxuXHJcblx0XHRcdGorK1xyXG5cdFx0XHRpZiAoaiA+PSB0aGlzLkhJU1RTSVpFKSBicmVha1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG91dHB1dC5yZXZlcnNlKCkuam9pbihcIjxiciAvPlwiKTtcclxuXHR9XHJcblxyXG5cdC8vIC8vIHRvZG86IGltcGxlbWVudFxyXG5cdC8vIHB1YmxpYyBjbGVhciA9ICgpID0+IHtcclxuXHQvLyBcdHJldHVybiB0aGlzXHJcblx0Ly8gfVxyXG5cclxuXHQvLyAvLyB0b2RvOiBpbXBsZW1lbnRcclxuXHQvLyBwdWJsaWMgdG91Y2ggPSAoZmlsZU5hbWU6IHN0cmluZykgPT4ge1xyXG5cdC8vIFx0cmV0dXJuIHRoaXNcclxuXHQvLyB9XHJcblx0Ly8gLy8gdG9kbzogaW1wbGVtZW50XHJcblx0Ly8gcHVibGljIG1rZGlyID0gKGRpck5hbWU6IHN0cmluZykgPT4ge1xyXG5cdC8vIFx0cmV0dXJuIHRoaXNcclxuXHQvLyB9XHJcblx0Ly8gLy8gdG9kbzogaW1wbGVtZW50XHJcblx0Ly8gcHVibGljIHB3ZCA9ICgpID0+IHt9XHJcblx0Ly8gLy8gdG9kbzogaW1wbGVtZW50XHJcblx0Ly8gcHVibGljIHZpbSA9IChmaWxlTmFtZTogc3RyaW5nLCBmaWxlQ29udGVudFRvVHlwZTogc3RyaW5nW10pID0+IHtcclxuXHQvLyBcdHJldHVybiB0aGlzXHJcblx0Ly8gfVxyXG5cclxuXHQvKipcclxuXHQgKiBFeGNlY3V0ZXMgdGhlIGNyZWF0ZWQgZXZlbnQgc2VxdWVuY2VcclxuXHQgKiBAcGFyYW0gY2FsbGJhY2sgR2V0cyBjYWxsZWQgd2hlbiB0aGUgc2VxdWVuY2UgaGFzIGZpbmlzaGVkXHJcblx0ICovXHJcblx0cHVibGljIHJ1biA9IChjYWxsYmFjaz86ICgpID0+IHZvaWQpID0+IHtcclxuXHRcdC8vIElmIHRoZXJlIGFyZSBldmVudHMgbGVmdCBpbiB0aGUgcXVldWUsIGNvbnRpbnVlIHJ1bm5pbmcuXHJcblx0XHR0aGlzLmN1cnJlbnRFdmVudCA9IHRoaXMuZXZlbnRRdWV1ZS5zaGlmdCgpXHJcblx0XHRpZiAodGhpcy5jdXJyZW50RXZlbnQgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpZiAodGhpcy5jdXJyZW50RXZlbnQuY29tbWFuZCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0Ly8gQWRkIGNvbW1hbmQgdG8gaGlzdG9yeSBzdGFjaywgdGhlbiBzdGFydCB3cml0aW5nIHRoZSBjb21tYW5kIHRleHQgdG8gdGhlIHN0ZG91dFxyXG5cdFx0XHRcdHRoaXMuaGlzdG9yeVN0YWNrLnB1c2godGhpcy5jdXJyZW50RXZlbnQuY29tbWFuZClcclxuXHRcdFx0XHR0aGlzLndyaXRlVG9TdGRvdXQodGhpcy5jdXJyZW50RXZlbnQuY29tbWFuZC50ZXh0LCB0aGlzLmN1cnJlbnRFdmVudC5jb21tYW5kLndyaXRlU3BlZWQsICgpID0+IHtcclxuXHRcdFx0XHRcdC8vIEFmdGVyIGNvbW1hbmQgdGV4dCB3YXMgd3JpdHRlbiwgY2hlY2sgaWYgdGhlIGNvbW1hbmQgaGFzIGFuIG91dHB1dC4uLlxyXG5cdFx0XHRcdFx0aWYgKHRoaXMuY3VycmVudEV2ZW50IS5jb21tYW5kIS5vdXRwdXQgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgbmV3T3V0cHV0ID0gXCJcIlxyXG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIHRoaXMuY3VycmVudEV2ZW50IS5jb21tYW5kIS5vdXRwdXQgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0XHRcdFx0XHRcdG5ld091dHB1dCA9IHRoaXMuY3VycmVudEV2ZW50IS5jb21tYW5kIS5vdXRwdXQoKVxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdG5ld091dHB1dCA9IHRoaXMuY3VycmVudEV2ZW50IS5jb21tYW5kIS5vdXRwdXRcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnJlbW92ZUN1cnNvcigpXHJcblx0XHRcdFx0XHRcdFx0dGhpcy53cml0ZUxpbmVCcmVha1RvU3Rkb3V0KClcclxuXHRcdFx0XHRcdFx0XHR0aGlzLndyaXRlVG9TdGRvdXQobmV3T3V0cHV0LCAwLCAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBBZnRlciBjb21tYW5kIG91dHB1dCB3YXMgd3JpdHRlbi4uLlxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy53cml0ZUxpbmVCcmVha1RvU3Rkb3V0KClcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMud3JpdGVFbnZpcm9tZW50TGluZVRvU3Rkb3V0KClcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMud3JpdGVJbnB1dExpbmVTdGFydFRvU3Rkb3V0KClcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5hcHBlbmRDdXJzb3IoKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnJ1bihjYWxsYmFjaylcclxuXHRcdFx0XHRcdFx0XHRcdH0sIHRoaXMuY3VycmVudEV2ZW50IS5kZWxheUFmdGVyKVxyXG5cdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdH0sIHRoaXMuY3VycmVudEV2ZW50IS5jb21tYW5kIS5wYXVzZUJlZm9yZU91dHB1dClcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHRoaXMud3JpdGVMaW5lQnJlYWtUb1N0ZG91dCgpXHJcblx0XHRcdFx0XHRcdHRoaXMud3JpdGVFbnZpcm9tZW50TGluZVRvU3Rkb3V0KClcclxuXHRcdFx0XHRcdFx0dGhpcy53cml0ZUlucHV0TGluZVN0YXJ0VG9TdGRvdXQoKVxyXG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHRoaXMucnVuKGNhbGxiYWNrKSwgdGhpcy5jdXJyZW50RXZlbnQhLmRlbGF5QWZ0ZXIpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBJZiB0aGUgY3VycmVudCBldmVudHMgY29tbWFuZCBpcyB1bmRlZmluZWQsIGNvbnRpbnVlIHJ1bm5pbmcuLi5cclxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucnVuKGNhbGxiYWNrKVxyXG5cdFx0XHRcdH0sIHRoaXMuY3VycmVudEV2ZW50LmRlbGF5QWZ0ZXIpXHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIElmIG5vIGV2ZW50IGlzIGxlZnQgaW4gdGhlIHF1ZXVlLCBydW4gY2FsYmFjay4uLlxyXG5cdFx0XHRpZiAoY2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdGNhbGxiYWNrKClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVtb3ZlcyB0aGUgY3Vyc29yIGZyb20gdGhlIHdyYXBwZXIgZG9jdW1lbnRcclxuXHQgKi9cclxuXHRwcml2YXRlIHJlbW92ZUN1cnNvciA9ICgpID0+IHtcclxuXHRcdHRoaXMuY3Vyc29yRWxlbWVudC5yZW1vdmUoKVxyXG5cdH1cclxuXHQvKipcclxuXHQgKiBBcHBlbmRzIHRoZSBjdXJzb3IgZWxlbWVudCB0byB0aGUgd3JhcHBlciBlbGVtZW50XHJcblx0ICovXHJcblx0cHJpdmF0ZSBhcHBlbmRDdXJzb3IgPSAoKSA9PiB7XHJcblx0XHR0aGlzLndyYXBwZXJFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY3Vyc29yRWxlbWVudClcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgYSByYW5kb20gaW50ZWdlciBpbiB0aGUgcmFuZ2UgZnJvbSBtaW4gdG8gbWF4LCBpbmNsdXNpZlxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBtaW4gTWluaW11bSBudW1iZXIgdG8gZ2VuZXJhdGVcclxuXHQgKiBAcGFyYW0ge051bWJlcn0gbWF4IE1heGltdW0gbnVtYmVyIHRvIGdlbmVyYXRlXHJcblx0ICogQHJldHVybnMgcmFuZG9tIGludGVnZXIgaW4gdGhlIHJhbmdlIGZyb20gbWluIHRvIG1heCwgaW5jbHVzaWZcclxuXHQgKi9cclxuXHRwcml2YXRlIGdldFJhbmRvbUludGVnZXJJblJhbmdlID0gKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikgPT4ge1xyXG5cdFx0cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbilcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIElmIHRoaXMuZW52aXJvbWVudCBpcyBub3QgdW5kZWZpbmVkLCB3cml0ZSBcInVzZXJuYW1lQGhvc3RuYW1lOlwiIHRvIHRoZSBzdGRvdXRcclxuXHQgKi9cclxuXHRwcml2YXRlIHdyaXRlRW52aXJvbWVudExpbmVUb1N0ZG91dCA9ICgpID0+IHtcclxuXHRcdGlmICh0aGlzLm9wdGlvbnMuZW52aXJvbWVudCAhPT0gdW5kZWZpbmVkICYmIHRoaXMub3B0aW9ucy5lbnZpcm9tZW50Lmhvc3RuYW1lLmxlbmd0aCA+IDAgJiYgdGhpcy5vcHRpb25zLmVudmlyb21lbnQudXNlcm5hbWUubGVuZ3RoID4gMCkge1xyXG5cdFx0XHR0aGlzLndyYXBwZXJFbGVtZW50LmlubmVySFRNTCArPSB0aGlzLm9wdGlvbnMuZW52aXJvbWVudC51c2VybmFtZSArIFwiQFwiICsgdGhpcy5vcHRpb25zLmVudmlyb21lbnQuaG9zdG5hbWUgKyBcIjpcIlxyXG5cdFx0fVxyXG5cdH1cclxuXHQvKipcclxuXHQgKiBXcml0ZXMgXCIkIFwiIHRvIHRoZSBzdGRvdXRcclxuXHQgKi9cclxuXHRwcml2YXRlIHdyaXRlSW5wdXRMaW5lU3RhcnRUb1N0ZG91dCA9ICgpID0+IHtcclxuXHRcdHRoaXMud3JhcHBlckVsZW1lbnQuaW5uZXJIVE1MICs9IFwiJCBcIlxyXG5cdH1cclxuXHQvKipcclxuXHQgKiBXcml0ZXMgXCJcXG5cIiAoXFw8YnIgLz4pIHRvIHRoZSBzdGRvdXRcclxuXHQgKi9cclxuXHRwcml2YXRlIHdyaXRlTGluZUJyZWFrVG9TdGRvdXQgPSAoKSA9PiB7XHJcblx0XHR0aGlzLndyYXBwZXJFbGVtZW50LmlubmVySFRNTCArPSBcIjxiciAvPlwiXHJcblx0fVxyXG5cdC8qKlxyXG5cdCAqIFdyaXRlcyB0aGUgc3BlY2lmaWVkIHRleHQgdG8gdGhlIHRlcm1pbmFsIHdyYXBwZXIuXHJcblx0ICpcclxuXHQgKiBJZiBzcGVlZCA9PT0gMCwgaXQgd2lsbCByZW1vdmUgdGhlIGN1cnNvciBmcm9tIHRoZSB3cmFwcGVyLlxyXG5cdCAqIElmIHNwZWVkID4gMCwgdGhlIGN1cnNvciB3aWxsIHJlbW92ZSBiZWZvcmUgYW5kIGFwcGVuZGVkIGFmdGVyIGV2ZXJ5IGNoYXJhY3Rlci5cclxuXHQgKiBAcGFyYW0gdGV4dCB0ZXh0IHRvIHdyaXRlIHRvIHN0ZG91dFxyXG5cdCAqIEBwYXJhbSBzcGVlZCBzcGVlZCBhdCB3aGljaCBlYWNoIGNoYXJhY3RlciBpcyB3cml0dGVuIHRvIHN0ZG91dFxyXG5cdCAqIEBwYXJhbSBjYWxsYmFjayBnZXRzIGV4Y2VjdXRlZCB3aGVuIHdyaXRpbmcgdG8gc3Rkb3V0IGhhcyBmaW5pc2hlZFxyXG5cdCAqIEBwYXJhbSBpIHVzZWQgZm9yIHJlY3Vyc2lvbiBwdXJwb3Nlc1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgd3JpdGVUb1N0ZG91dCA9ICh0ZXh0OiBzdHJpbmcsIHNwZWVkOiBcIm5ldXRyYWxcIiB8IG51bWJlciwgY2FsbGJhY2s6ICgpID0+IHZvaWQsIGk6IG51bWJlciA9IDApID0+IHtcclxuXHRcdGlmIChzcGVlZCA9PT0gMCkge1xyXG5cdFx0XHR0aGlzLnJlbW92ZUN1cnNvcigpXHJcblx0XHRcdHRoaXMud3JhcHBlckVsZW1lbnQuaW5uZXJIVE1MICs9IHRleHRcclxuXHRcdFx0Y2FsbGJhY2soKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKGkgPCB0ZXh0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdHRoaXMucmVtb3ZlQ3Vyc29yKClcclxuXHRcdFx0XHR0aGlzLndyYXBwZXJFbGVtZW50LmlubmVySFRNTCArPSB0ZXh0W2ldXHJcblx0XHRcdFx0dGhpcy5hcHBlbmRDdXJzb3IoKVxyXG5cdFx0XHRcdGkrK1xyXG5cdFx0XHRcdGlmIChzcGVlZCA9PT0gXCJuZXV0cmFsXCIpIHtcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4gdGhpcy53cml0ZVRvU3Rkb3V0KHRleHQsIHNwZWVkLCBjYWxsYmFjaywgaSksIHRoaXMuZ2V0UmFuZG9tSW50ZWdlckluUmFuZ2UoODAsIDEyMCkpXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4gdGhpcy53cml0ZVRvU3Rkb3V0KHRleHQsIHNwZWVkLCBjYWxsYmFjaywgaSksIHNwZWVkKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjYWxsYmFjaygpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVuaXhUZXJtaW5hbEVtdWxhdG9yXHJcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwiaWQiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwibmVlZExheWVyIiwiY29uY2F0IiwibGVuZ3RoIiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibmMiLCJVbml4VGVybWluYWxFbXVsYXRvciIsIndyYXBwZXJJZCIsIndyYXBwZXJDbGFzc05hbWUiLCJjdXJzb3IiLCJjdXJzb3JJZCIsImN1cnNvckNsYXNzTmFtZSIsImN1cnNvckFuaW1hdGlvbiIsImVudmlyb21lbnQiLCJjb21tYW5kIiwiZXZlbnRRdWV1ZSIsImRlbGF5QWZ0ZXIiLCJjb21tYW5kcyIsImZvckVhY2giLCJjIiwibXMiLCJ0ZXh0Iiwid3JpdGVTcGVlZCIsInBhdXNlQmVmb3JlT3V0cHV0Iiwib3V0cHV0IiwiZ2V0SGlzdG9yeU91dHB1dCIsImoiLCJoaXN0b3J5U3RhY2siLCJuZXdPdXRwdXRMaW5lIiwiSElTVFNJWkUiLCJyZXZlcnNlIiwiY2FsbGJhY2siLCJjdXJyZW50RXZlbnQiLCJzaGlmdCIsIndyaXRlVG9TdGRvdXQiLCJuZXdPdXRwdXQiLCJzZXRUaW1lb3V0IiwicmVtb3ZlQ3Vyc29yIiwid3JpdGVMaW5lQnJlYWtUb1N0ZG91dCIsIndyaXRlRW52aXJvbWVudExpbmVUb1N0ZG91dCIsIndyaXRlSW5wdXRMaW5lU3RhcnRUb1N0ZG91dCIsImFwcGVuZEN1cnNvciIsInJ1biIsImN1cnNvckVsZW1lbnQiLCJ3cmFwcGVyRWxlbWVudCIsIm1pbiIsIm1heCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImhvc3RuYW1lIiwidXNlcm5hbWUiLCJpbm5lckhUTUwiLCJzcGVlZCIsImdldFJhbmRvbUludGVnZXJJblJhbmdlIiwid3JhcHBlciIsImdldEVsZW1lbnRCeUlkIiwiY2xhc3NMaXN0IiwiYWRkIiwiYm9keSIsImlubmVyVGV4dCJdLCJzb3VyY2VSb290IjoiIn0=